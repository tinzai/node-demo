webpackJsonp([37],{345:function(e,t,i){var r=i(0)(i(643),null,null,null);e.exports=r.exports},643:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(856),s=i.n(r);t.default={extends:s.a}},672:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(39),s=i.n(r),n=i(38),c=i.n(n),o=i(6);t.default={name:"PageAccountDownlineRecords",data:function(){return{visiblePicker:!1,dayPickers:["今天","昨天","本月","上月"],filterPicker:"昨天",filterUserId:"",loading:!1,list:[]}},computed:{isUserLogined:function(){return this.$store.state.user.isUserLogined}},created:function(){this.$store.commit("setPage",{pageTitle:"代理报表",className:"page-account-downline-records"}),this.fetchRecords()},methods:{togglePicker:function(){this.visiblePicker=!this.visiblePicker},selectDayPicker:function(e){this.filterPicker=e,this.togglePicker(),this.fetchRecords()},fetchRecords:function(){var e=this;return c()(s.a.mark(function t(){var i,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.filterUserId||/^\d+$/.test(e.filterUserId)){t.next=3;break}return e.$message({message:"用户ID只能是数字"}),t.abrupt("return");case 3:if(!e.loading){t.next=5;break}return t.abrupt("return");case 5:return e.loading=!0,t.next=8,o.apiGetRecommandStat({u:e.filterUserId,d:e.dayPickers.indexOf(e.filterPicker)+1});case 8:i=t.sent,e.loading=!1,r=i.data,r.S?e.$message({message:r.D}):e.list=r;case 12:case"end":return t.stop()}},t,e)}))()}}}},856:function(e,t,i){var r=i(0)(i(672),i(944),null,null);e.exports=r.exports},944:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",{staticClass:"kd-body"},[i("div",{staticClass:"downline-records__header"},[i("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filterUserId,expression:"filterUserId",modifiers:{trim:!0}},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"text",placeholder:"下级报表查询(请输入用户ID)"},domProps:{value:e.filterUserId},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchRecords(t)},input:function(t){t.target.composing||(e.filterUserId=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),i("a",{staticClass:"kd-button downline-records__filter",on:{click:e.fetchRecords}},[i("i",{staticClass:"icon icon-arrow-right"})])])]),e._v(" "),e.list&&e.list.length?e._e():i("div",{staticClass:"downline-records__body downline-records__empty"},[e._v("\n        "+e._s(e.loading?"正在加载数据...":"没有数据！")+"\n    ")]),e._v(" "),i("ul",{staticClass:"nostyle kd-row downline-records__body"},e._l(e.list,function(t){return i("li",[i("p",{staticClass:"downline-records__num"},[e._v(e._s(~t.n.indexOf("人数")?t.r+"人":"¥"+t.r))]),e._v(" "),i("p",[e._v(e._s(t.n))])])}),0),e._v(" "),e.isUserLogined?i("a",{staticClass:"downline-records__day",on:{click:e.togglePicker}},[e._v(e._s(e.filterPicker)+"\n        "),i("i",{staticClass:"icon icon-down"})]):e._e(),e._v(" "),e.visiblePicker?i("div",{staticClass:"downline-records__cover",on:{click:e.togglePicker}}):e._e(),e._v(" "),i("ul",{staticClass:"nostyle downline-records__daypicker",class:{"daypicker--visible":e.visiblePicker}},[e._l(e.dayPickers,function(t){return i("li",{on:{click:function(i){return e.selectDayPicker(t)}}},[e._v(e._s(t))])}),e._v(" "),i("li",{on:{click:e.togglePicker}},[e._v("取消")])],2)])},staticRenderFns:[]}}});
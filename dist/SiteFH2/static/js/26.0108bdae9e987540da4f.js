webpackJsonp([26],{343:function(t,e,i){var s=i(0)(i(641),null,null,null);t.exports=s.exports},600:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(833),n=i.n(s);e.default={extends:n.a}},630:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(39),n=i.n(s),a=i(38),o=i.n(a),r=i(6);e.default={name:"DownlineSetting",props:{visibleSetting:{default:!1},oUserId:{oUserId:""}},data:function(){return{settingSum:"",setting1:"",setting2:"",setting2_min:.08,setting3:"",setting3_min:.02}},methods:{closeSetting:function(){this.$emit("update:visibleSetting",!1)},saveSetting:function(){var t=this;return o()(n.a.mark(function e(){var i,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.validateMsg){e.next=3;break}return t.$message({message:t.validateMsg,type:"warning"}),e.abrupt("return");case 3:return e.next=5,r.apiPostRecommendSettingsUser({U:t.oUserId,O:t.setting1,T:t.setting2,TH:t.setting3,C:t.settingSum});case 5:i=e.sent,s=i.data,768==s.S?(t.$message({message:s.D,type:"success"}),t.closeSetting()):t.$message({message:s.D,type:"warning"});case 8:case"end":return e.stop()}},e,t)}))()},fetchSetting:function(){var t=this;return o()(n.a.mark(function e(){var i,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.apiGetRecommendSettingsUser({U:t.oUserId});case 2:i=e.sent,s=i.data,s.D?(t.$message({message:s.D,type:"warning"}),t.closeSetting()):(t.settingSum=s.C,t.setting1=s.O,t.setting2=s.T,t.setting3=s.TH);case 5:case"end":return e.stop()}},e,t)}))()},autoSetSetting3:function(){var t=this.setting3;this.setting3=(parseInt(1e4*this.settingSum-1e4*this.setting1-1e4*this.setting2)/1e4).toFixed(2),this.validateSetting3&&(this.setting3=t,this.validateSettingSum&&this.$message({message:this.validateSettingSum,type:"warning"}))},changeSetting1:function(){var t=this.validateSetting1;if(t)return void this.$message({message:t,type:"warning"});this.validateSetting2||this.autoSetSetting3()},changeSetting2:function(){var t=this.validateSetting2;if(t)return void this.$message({message:t,type:"warning"});this.validateSetting1||this.autoSetSetting3()},changeSetting3:function(){var t=this.validateSetting3;if(t)return void this.$message({message:t,type:"warning"});this.validateSettingSum&&this.$message({message:this.validateSettingSum,type:"warning"})}},computed:{validateSetting1:function(){return""===this.setting1?"请输入一级提成":this.setting1<=0?"一级提成提成必须>0":void 0},validateSetting2:function(){if(this.setting2<this.setting2_min)return"二级提成必须≥"+this.setting2_min},validateSetting3:function(){if(this.setting3<this.setting3_min)return"三级提成必须≥"+this.setting3_min},validateSettingSum:function(){if(parseInt(1e4*this.settingSum)!=parseInt(1e4*this.setting1+1e4*this.setting2+1e4*this.setting3))return"一级二级三级相加要和代理总提成相等！"},validateMsg:function(){return this.validateSetting1||this.validateSetting2||this.validateSetting3||this.validateSettingSum}},watch:{visibleSetting:function(t){t&&this.fetchSetting()}}}},641:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(854),n=i.n(s);e.default={extends:n.a}},670:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(39),n=i.n(s),a=i(38),o=i.n(a),r=i(812),l=i.n(r),c=i(6),d=i(46);i.n(d);e.default={name:"PageAccountDownlineList",data:function(){return{loading:!0,visibleSetting:!1,oUserId:"",list:[],currentPage:1,recordsLengthPerPage:10,totalPages:1,totalCount:0,sortation:"",version:0}},created:function(){this.$store.commit("setPage",{pageTitle:"代理管理",className:"page-account-downline-list"}),this.sortation=this.$store.state.downlineSortation,this.fetchUsers(1)},methods:{showSetting:function(t){this.oUserId=t.Id,this.visibleSetting=!0},fetchUsers:function(t){var e=this;return o()(n.a.mark(function i(){var s,a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(t>e.totalPages)){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,c.apiGetUser({P:t||e.currentPage,I:e.recordsLengthPerPage,O:e.sortation});case 4:s=i.sent,e.loading=!1,a=s.data,a.S||(e.list=a.List,e.currentPage=a.NowPage,e.totalCount=a.TotalCount,e.totalPages=a.TotalPage);case 8:case"end":return i.stop()}},i,e)}))()},sortBet:function(){switch(this.sortation){case"d":this.sortation="a";break;case"a":this.sortation="";break;default:this.sortation="d"}this.$store.commit("setDownlineSortation",this.sortation),this.fetchUsers(1)}},components:{modDownlineSetting:l.a}}},812:function(t,e,i){var s=i(0)(i(600),null,null,null);t.exports=s.exports},833:function(t,e,i){var s=i(0)(i(630),i(912),null,null);t.exports=s.exports},854:function(t,e,i){var s=i(0)(i(670),i(967),null,null);t.exports=s.exports},912:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{"enter-active-class":"animated zoom-in","leave-active-class":"animated bounce-out"}},[t.visibleSetting?i("div",{staticClass:"promptbox-wrapper promptbox-downline-setting"},[i("section",{staticClass:"promptbox"},[i("div",{staticClass:"prompt-head"},[t._v("提成设置")]),t._v(" "),i("div",{staticClass:"prompt-body"},[i("div",{staticClass:"kd-field"},[i("label",{staticClass:"kd-field-title"},[t._v("代理总提成"+t._s(t.settingSum)+"%，其中该会员的：")])]),t._v(" "),i("div",{staticClass:"kd-field"},[i("label",{staticClass:"kd-field-title",attrs:{for:"downline-setting1"}},[t._v("一级上线（推荐人）占：")]),t._v(" "),i("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[i("input",{directives:[{name:"money",rawName:"v-money"},{name:"model",rawName:"v-model",value:t.setting1,expression:"setting1"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"number",step:"0.01",id:"downline-setting1",placeholder:"请输入一级提成"},domProps:{value:t.setting1},on:{change:t.changeSetting1,input:function(e){e.target.composing||(t.setting1=e.target.value)}}}),i("span",[t._v("%")])])]),t._v(" "),i("div",{staticClass:"kd-field"},[i("label",{staticClass:"kd-field-title",attrs:{for:"downline-setting2"}},[t._v("二级上线占：")]),t._v(" "),i("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[i("input",{directives:[{name:"money",rawName:"v-money"},{name:"model",rawName:"v-model",value:t.setting2,expression:"setting2"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"number",step:"0.01",id:"downline-setting2",placeholder:"二级提成必须≥"+t.setting2_min},domProps:{value:t.setting2},on:{change:t.changeSetting2,input:function(e){e.target.composing||(t.setting2=e.target.value)}}}),i("span",[t._v("%")])])]),t._v(" "),i("div",{staticClass:"kd-field"},[i("label",{staticClass:"kd-field-title",attrs:{for:"downline-setting3"}},[t._v("三级上线占：")]),t._v(" "),i("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[i("input",{directives:[{name:"money",rawName:"v-money"},{name:"model",rawName:"v-model",value:t.setting3,expression:"setting3"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"number",step:"0.01",id:"downline-setting3",placeholder:"三级提成必须≥"+t.setting3_min},domProps:{value:t.setting3},on:{change:t.changeSetting3,input:function(e){e.target.composing||(t.setting3=e.target.value)}}}),i("span",[t._v("%")])])])]),t._v(" "),i("div",{staticClass:"prompt-foot"},[i("kd-button",{on:{click:t.saveSetting}},[t._v("确定")])],1),t._v(" "),i("a",{staticClass:"prompt-close kd-close",on:{click:t.closeSetting}},[t._v("close")])]),t._v(" "),i("div",{staticClass:"promptbox-overlay"})]):t._e()])},staticRenderFns:[]}},967:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"kd-body"},[i("div",{staticClass:"downline-list-container"},[i("table",{staticClass:"game-account__table"},[i("tr",[i("th",{attrs:{width:"15%"}},[t._v("ID")]),t._v(" "),i("th",{attrs:{width:"15%"}},[t._v("用户名")]),t._v(" "),i("th",{attrs:{width:"18%"}},[t._v("姓名")]),t._v(" "),i("th",{attrs:{width:"22%"}},[t._v("注册日期")]),t._v(" "),i("th",{attrs:{width:"30%"}},[t._v("\n                        操作"),i("a",{staticClass:"downline-list__sort",class:[{"downline-list__sort-active":!!t.sortation,"downline-list__sort-a":"a"===t.sortation}],on:{click:t.sortBet}},[t._v("打码")])])]),t._v(" "),t.list&&t.list.length?t._e():i("tr",[i("td",{attrs:{colspan:"5"}},[t._v(t._s(t.loading?"正在加载数据":"没有数据!"))])]),t._v(" "),t._l(t.list,function(e){return i("tr",[i("td",[t._v(t._s(e.Id))]),t._v(" "),i("td",[t._v(t._s(e.UserName))]),t._v(" "),i("td",[t._v(t._s(e.RealName))]),t._v(" "),i("td",[t._v(t._s(e.Reg_Date))]),t._v(" "),i("td",[i("router-link",{staticClass:"kd-button",attrs:{to:{name:"AccountDownlineDetail",params:{id:e.Id}}}},[i("span",{staticClass:"text"},[t._v("打码明细")])])],1)])})],2)]),t._v(" "),t.list.length>0?[i("kd-pager",{attrs:{currentPage:t.currentPage,totalPages:t.totalPages},on:{toPage:t.fetchUsers}}),t._v(" "),i("div",{staticClass:"kd-container kd-list two-cols total two-cols--downline-list"},[i("div",{staticClass:"item"},[i("span",{staticClass:"kd-col"},[t._v("本页会员数：")]),i("span",{staticClass:"kd-col"},[t._v(t._s(t.list.length))])]),t._v(" "),i("div",{staticClass:"item"},[i("span",{staticClass:"kd-col"},[t._v("总会员数：")]),i("span",{staticClass:"kd-col"},[t._v(t._s(t.totalCount))])])])]:t._e(),t._v(" "),i("mod-downline-setting",{attrs:{visibleSetting:t.visibleSetting,oUserId:t.oUserId},on:{"update:visibleSetting":function(e){t.visibleSetting=e},"update:visible-setting":function(e){t.visibleSetting=e}}})],2)},staticRenderFns:[]}}});
webpackJsonp([2],{122:function(e,t,i){var a=i(0)(i(652),null,null,null);e.exports=a.exports},652:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(874),s=i.n(a);t.default={extends:s.a}},690:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(6);t.default={name:"PageArticle",computed:{isUserLogined:function(){return this.$store.state.user.isUserLogined}},data:function(){return{title:"加载中...",content:"加载中...",time:"加载中...",redpackId:"",redpackPin:"",needRedpackPin:0,name:"领取红包",isOpenedPrompt:!1}},created:function(){this.$store.commit("setPage",{pageTitle:"文章详情",className:"page-article"}),this.fetchArticle()},methods:{fetchArticle:function(){var e=this;return a.apiGetDetailOfActivity({i:this.$route.params.id}).then(function(e){return e.json()}).then(function(t){e.title=t.Title,e.content=t.Content,e.time=t.Add_Date,e.redpackId=t.RedPackId,e.needRedpackPin=t.RedPackPin,e.name=t.RedPackName}).catch(function(t){console.log(t),e.$message({message:"获取文章出错啦！",type:"error",force:!0})})},receiveRedpack:function(){var e=this;return a.apiGetRedPackage({id:this.redpackId,pin:this.redpackPin}).then(function(e){return e.json()}).then(function(t){"1130"===t.S?e.$message({message:"恭喜您，领取了"+t.D+"红包！",type:"success"}):e.$message({message:t.S+": "+t.D,type:"warning"})}).catch(function(t){console.log(t),e.$message({message:"领取红包出错啦！",type:"error",force:!0})})},openPrompt:function(){this.isOpenedPrompt=!0},closePrompt:function(){this.isOpenedPrompt=!1,this.redpackPin=""},validators:function(){return""!==this.redpackPin||(this.$message({message:"红包密码不能为空！"}),!1)},getRedpackByPin:function(){!1!==this.validators()&&(this.receiveRedpack(),this.closePrompt())},getRedpack:function(){return!1===this.isUserLogined?void this.$message({message:"对不起，请您先登录！"}):1===this.needRedpackPin?void this.openPrompt():void this.receiveRedpack()}}}},874:function(e,t,i){var a=i(0)(i(690),i(933),null,null);e.exports=a.exports},933:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",{staticClass:"kd-body article-detail"},[i("h1",{staticClass:"page-title article-title"},[e._v(e._s(e.title)),"ActivityArticle"!==e.$route.name?i("time",[e._v(e._s(e.time))]):e._e()]),e._v(" "),""!==e.redpackId?i("div",{staticClass:"kd-align-center"},[i("a",{staticClass:"redpack",attrs:{href:"javascript:;"},on:{click:e.getRedpack}},[i("i",{staticClass:"icon icon-redpack"})])]):e._e(),e._v(" "),i("article",{staticClass:"kd-container article",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),""!==e.redpackId?i("div",{staticClass:"kd-align-center"},[i("a",{staticClass:"kd-button red",attrs:{href:"javascript:;"},on:{click:e.getRedpack}},[i("i",{staticClass:"icon icon-redpack"}),e._v(e._s(e.name))])]):e._e(),e._v(" "),i("transition",{attrs:{"enter-active-class":"animated zoom-in","leave-active-class":"animated bounce-out"}},[e.isOpenedPrompt?i("div",{staticClass:"promptbox-wrapper"},[i("section",{staticClass:"promptbox red-package-password"},[i("div",{staticClass:"prompt-head"},[e._v("输入领取密码")]),e._v(" "),i("div",{staticClass:"prompt-body kd-form"},[i("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.redpackPin,expression:"redpackPin"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"password"},domProps:{value:e.redpackPin},on:{input:function(t){t.target.composing||(e.redpackPin=t.target.value)}}})]),e._v(" "),i("kd-button",{on:{click:e.getRedpackByPin}},[i("span",[e._v("马上领取")])])],1),e._v(" "),i("a",{staticClass:"prompt-close kd-close",attrs:{href:"javascript:;"},on:{click:e.closePrompt}},[e._v("close")])]),e._v(" "),i("div",{staticClass:"promptbox-overlay"})]):e._e()])],1)},staticRenderFns:[]}}});
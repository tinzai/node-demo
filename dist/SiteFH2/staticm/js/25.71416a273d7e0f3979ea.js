webpackJsonp([25],{1007:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"kd-body kd-body--login"},[s("mod-account-login-head"),e._v(" "),s("form",{staticClass:"kd-form kd-container login-form-theme",on:{submit:function(e){e.preventDefault()}}},[s("ul",{staticClass:"nostyle account-sub-nav kd-row-middle simple"},[s("li",{staticClass:"active"},[s("router-link",{attrs:{to:"/login"}},[e._v("登录")])],1),e._v(" "),s("li",[s("router-link",{attrs:{to:"/register"}},[e._v("注册")])],1)]),e._v(" "),s("div",{staticClass:"kd-field"},[e._m(0),e._v(" "),s("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.user_name,expression:"user.user_name",modifiers:{trim:!0}},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"text",id:"username",placeholder:"请输入用户名 / 手机号 / 用户ID"},domProps:{value:e.user.user_name},on:{input:function(t){t.target.composing||e.$set(e.user,"user_name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("div",{staticClass:"kd-field"},[s("router-link",{staticClass:"login-forgot",attrs:{to:"/forgot-password"}},[e._v("忘记密码？")]),e._v(" "),e._m(1),e._v(" "),s("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"password",id:"password",placeholder:"请输入6-20位密码"},domProps:{value:e.user.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doLogin(t)},input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})])],1),e._v(" "),2!==e.verifyMode?s("div",{staticClass:"kd-field"},[e._m(2),e._v(" "),s("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.qr,expression:"user.qr"},{name:"focus-fixed",rawName:"v-focus-fixed"}],staticStyle:{width:"68%"},attrs:{type:"text",id:"qrcode",placeholder:"请输入验证码"},domProps:{value:e.user.qr},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doLogin(t)},input:function(t){t.target.composing||e.$set(e.user,"qr",t.target.value)}}}),e._v(" "),s("img",{attrs:{src:e.verifyCodeUrl,alt:"验证码",title:"点击刷新验证码"},on:{click:e.changeVerifyCode}})])]):e._e(),e._v(" "),1===e.verifyMode?s("div",{staticClass:"login__tips"},[e._v("验证码请输入右侧计算结果")]):e._e(),e._v(" "),s("div",{staticClass:"kd-buttons"},[s("kd-button",{staticClass:"main-button",on:{click:e.doLogin}},[s("span",[e._v("马上登录")])]),e._v(" "),s("p",[s("a",{staticClass:"try-playing2",attrs:{href:"javascript:;"},on:{click:e.tryToPlay}},[e._v("免费试玩")])])],1),e._v(" "),e.isShowedAuthorizeLoginButton?s("div",{staticClass:"authorize-login"},[e._m(3),e._v(" "),s("p",{staticClass:"authorize-login__btns"},[s("a",{on:{click:function(t){return e.doAuthorizeLogin("weixin")}}},[s("i",{staticClass:"icon icon-weixin"})]),s("a",{on:{click:function(t){return e.doAuthorizeLogin("qq")}}},[s("i",{staticClass:"icon icon-qq-im"})])])]):e._e(),e._v(" "),e.loginTexts&&e.loginTexts.length?s("div",{staticClass:"login-text"},e._l(e.loginTexts,function(t){return s("div",{staticClass:"login-text__item"},e._l(t,function(t){return s("p",[e._v(e._s(t))])}),0)}),0):e._e()])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"kd-field-title",attrs:{for:"username"}},[s("i",{staticClass:"icon icon-login-account"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"kd-field-title",attrs:{for:"password"}},[s("i",{staticClass:"icon icon-password"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"kd-field-title",attrs:{for:"qrcode"}},[s("i",{staticClass:"icon icon-account-edit-password"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("span",{staticClass:"authorize-login__line"}),e._v("授权登录"),s("span",{staticClass:"authorize-login__line authorize-login__line--end"})])}]}},376:function(e,t,s){var i=s(0)(s(736),null,null,null);e.exports=i.exports},501:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"AccountLoginHead",computed:{siteName:function(){return this.$store.state.siteName},loginLogo:function(){return this.$store.state.loginLogo}}}},540:function(e,t,s){var i=s(0)(s(501),s(560),null,null);e.exports=i.exports},560:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo-wrapper"},[s("div",{staticClass:"logo-main"},[s("p",[s("span",{staticClass:"logo"},[e.loginLogo?s("img",{staticClass:"custom-logo__img",attrs:{src:e.loginLogo}}):s("i",{staticClass:"icon icon-logo"})])]),e._v(" "),s("h1",[e._v(e._s(e.siteName))])])])},staticRenderFns:[]}},588:function(e,t,s){"use strict";function i(){}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",s=0;s<e.length;s++){var i=e.charCodeAt(s);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},n=function(e){for(var t="",s=0,i=0,r=0;s<e.length;)i=e.charCodeAt(s),i<128?(t+=String.fromCharCode(i),s++):i>191&&i<224?(r=e.charCodeAt(s+1),t+=String.fromCharCode((31&i)<<6|63&r),s+=2):(r=e.charCodeAt(s+1),c3=e.charCodeAt(s+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&c3),s+=3);return t};i.prototype={constructor:i,encode:function(e){var t,s,i,n,a,c,u,d="",l=0;for(e=o(e);l<e.length;)t=e.charCodeAt(l++),s=e.charCodeAt(l++),i=e.charCodeAt(l++),n=t>>2,a=(3&t)<<4|s>>4,c=(15&s)<<2|i>>6,u=63&i,isNaN(s)?c=u=64:isNaN(i)&&(u=64),d=d+r.charAt(n)+r.charAt(a)+r.charAt(c)+r.charAt(u);return d},decode:function(){var e,t,s,i,o,a,c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d="",l=0;for(u=u.replace(/[^A-Za-z0-9+\/\=]/g,"");l<u.length;)i=r.indexOf(u.charAt(l++)),o=r.indexOf(u.charAt(l++)),a=r.indexOf(u.charAt(l++)),c=r.indexOf(u.charAt(l++)),e=i<<2|o>>4,t=(15&o)<<4|a>>2,s=(3&a)<<6|c,d+=String.fromCharCode(e),64!=a&&(d+=String.fromCharCode(t)),64!=c&&(d+=String.fromCharCode(s));return d=n(d)},multipleEncode:function(e,t){for(;t>0;)e=this.encode(e),t--;return e},multipleDecode:function(e,t){for(;t>0;)e=this.decode(e),t--;return e}},t.a=new i},678:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(588),r=s(46),o=s.n(r),n=s(6);t.default={name:"PageAccountLogin",data:function(){return{user:{user_name:"",password:"",type:"",qr:""},agreed:!1,rememberedUserName:!0,rememberedPassword:!1,toRouterName:"Account",verifyCodeVersion:0,verifyCodeColor:"#01beb8"}},computed:{loginLogo:function(){return this.$store.state.loginLogo},device:function(){return this.$store.state.device},loginTexts:function(){return this.$store.state.loginTexts},isShowedAuthorizeLoginButton:function(){var e=this.$store.state;return e.isAPP&&e.isWXP&&e.isShowedAuthorizeLoginButton},verifyCodeUrl:function(){return this.$store.state.logincode?this.$store.state.logincode:this.verifyCode},verifyCode:function(){return"base/getqrlogin.ashx?v="+this.verifyCodeVersion+"&bcolor="+escape(this.verifyCodeColor)},verifyMode:function(){return this.$store.state.verifyMode},ValidateCheckStatus:function(){return this.$store.state.ValidateCheckStatus}},created:function(){function e(e){s.i(n.apiDoAuthorizeLogin)({key:e}).then(function(e){return e.json()}).then(function(e){"120"===e.S?(t.$message({message:"恭喜你，登录成功！",type:"success"}),t.fetchUserInfo().then(function(){if(t.$route.query.redirect)if(/(?:longhu|baccarat|lhbjm?)(?:room)?\.html/i.test(t.$route.query.redirect)){var e=window.location.protocol+"//"+window.location.hostname+":"+window.location.port;window.location.href=e+t.$route.query.redirect}else t.$router.push({path:t.$route.query.redirect});else t.$router.push({name:t.toRouterName})}),t.fetchSetting()):t.$message({message:e.S+":"+e.D,type:"error"})}).catch(function(e){console.log(e),t.$message({message:"网络异常，请重新登录！",type:"error error-login",force:!0})})}this.$store.commit("setPage",{pageTitle:"登录",className:"page-account-login"}),this.changeVerifyCode(),this.getUserFromCookie();var t=this;window.iosSendMessage=e,window.androidSendMessage=e},watch:{ValidateCheckStatus:function(e){e&&this.doLogin()}},methods:{setUser:function(e){return this.$store.commit("uSetUser",e)},fetchUserInfo:function(){return this.$store.dispatch("uFetchUserInfo",{vm:this})},fetchSetting:function(){var e=this;return this.$store.dispatch("uFetchSetting").catch(function(t){console.log(t),e.$message({message:"获取账号个性化设置出错啦！",type:"error",force:!0})})},login:function(e){return this.$store.dispatch("uLogin",e)},validators:function(){return""===this.user.user_name?(this.$message({message:"用户名不能为空!",type:"warning"}),!1):/^[a-zA-Z0-9]+$/.test(this.user.user_name)?this.user.user_name.length>20||this.user.user_name.length<2?(this.$message({message:"用户名长度必须在2-20个字符，<br>手机号码必须是11位标准号码！",type:"warning"}),!1):""===this.user.password?(this.$message({message:"密码不能为空!",type:"warning"}),!1):/[\s\t\n\r]+/g.test(this.user.password)?(this.$message({message:"密码不能包含空格！",type:"warning"}),!1):!(this.user.password.length>20||this.user.password.length<6)||(this.$message({message:"密码长度只能是6-20个字符！",type:"warning"}),!1):(this.$message({message:"用户名只能是数字、字母组合，<br>或者是手机号码！",type:"warning"}),!1)},doLogin:function(){var e=this;if(!1!==this.validators()){if(!this.ValidateCheckStatus&&2===this.verifyMode)return void this.$store.commit("setOpenedValidateCheck",!0);this.cacheUserIntoCookie(),this.setUser({isManualLogout:!1}),/AKAPP/i.test(window.navigator.userAgent)&&("android"===this.device?this.user.type="android":"ios"===this.device&&(this.user.type="ios")),this.login({data:this.user}).then(function(t){var s=t.S;if(e.$store.commit("setValidateCheckStatus",!1),"120"!==s&&e.changeVerifyCode(),"115"===s)e.$message({message:"115: 用户名或密码无效！",type:"warning"});else if("119"===s)e.$message({message:"119: 密码无效！",type:"warning"});else if("444"===s)e.$message({message:"444: 您已登录，如要更换账号，请先退出登录！",type:"warning"});else if("116"===s)e.$message({message:"116: 用户名无效！",type:"warning"});else if("117"===s)e.$message({message:"117: 账户已停用",type:"warning"});else if("118"===s)e.$message({message:"118: 登录密码无效！",type:"warning"});else if("171"===s)e.$message({message:"171: 超出账户一天无效登录次数，账户已锁定!",type:"warning"});else if("172"===s)e.$message({message:"172: 超出单IP尝试次数!",type:"warning"});else if("173"===s)e.$message({message:"173: 超出单IP尝试账户数!",type:"warning"});else if("120"===s){var i=e;e.$message({message:"恭喜你，登录成功！",type:"success"}),e.fetchUserInfo().then(function(){if(i.$route.query.redirect)if(/(?:longhu|baccarat|lhbjm?)(?:room)?\.html/i.test(i.$route.query.redirect)){var e=window.location.protocol+"//"+window.location.hostname+":"+window.location.port;window.location.href=e+i.$route.query.redirect}else i.$router.push({path:i.$route.query.redirect});else i.$router.push({name:i.toRouterName})}),e.fetchSetting()}else e.$message({message:s+": "+t.D,type:"error"})}).catch(function(t){console.log(t),e.$message({message:"网络异常，请重新登录！",type:"error error-login",force:!0})})}},goToRegister:function(){this.$router.push({name:"AccountRegister"})},toggleToRemember:function(e){"userName"===e?this.rememberedUserName=!this.rememberedUserName:"password"===e&&(this.rememberedPassword=!this.rememberedPassword)},getUserFromCookie:function(){var e=o.a.get("cachedUser");void 0!==e&&(e=unescape(e.value).split("|"),this.user.user_name=i.a.multipleDecode(e[0],5),this.user.password=i.a.multipleDecode(e[1],5))},setUserCookie:function(e,t){o.a.create("cachedUser",escape([this.rememberedUserName?i.a.multipleEncode(e,5):"",this.rememberedPassword?i.a.multipleEncode(t,5):""].join("|")),{expires:6048e5})},cacheUserIntoCookie:function(){!1===this.rememberedUserName&&!1===this.rememberedPassword?o.a.remove("cachedUser"):this.setUserCookie(this.user.user_name,this.user.password)},doAuthorizeLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"weixin",t=this.$store.state;t.isAPP&&("android"===t.device?"weixin"===e?this.doAuthorizeLoginByWeiXinForAndroid():"qq"===e&&this.doAuthorizeLoginByQQforAndroid():"ios"===t.device&&("weixin"===e?this.doAuthorizeLoginByWeiXin():"qq"===e&&this.doAuthorizeLoginByQQ()))},doAuthorizeLoginByWeiXin:function(){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.senderModel.postMessage("loginByWeiXin")},doAuthorizeLoginByWeiXinForAndroid:function(){window.loginObj&&window.loginObj.loginWeiXin&&window.loginObj.loginWeiXin()},doAuthorizeLoginByQQ:function(){},doAuthorizeLoginByQQforAndroid:function(){},changeVerifyCode:function(){this.user.qr="",this.verifyCodeVersion=Math.random(),this.$store.commit("setSiteInfo",{logincode:this.verifyCode})}}}},679:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(862),r=s.n(i),o=s(540),n=s.n(o);t.default={extends:r.a,methods:{tryToPlay:function(){var e=this;return this.isUserLogined?void(2===this.userType&&this.$message({message:"祝您试玩愉快，如有问题请咨询客服！"})):(this.setUser({isManualLogout:!1}),this.$store.dispatch("uTryToPlay").then(function(t){if("152"!==t.S)e.$message({message:t.S+": "+t.D,type:"error"});else{var s=e;e.$message({message:"登录成功！",type:"success",time:1e3,afterClose:function(){if(s.$route.query.redirect)if(/(?:longhu|baccarat|lhbjm?)(?:room)?\.html/i.test(s.$route.query.redirect)){var e=window.location.protocol+"//"+window.location.hostname+":"+window.location.port;window.location.href=e+s.$route.query.redirect}else s.$router.push({path:s.$route.query.redirect});else s.$router.push({name:"Account"})}}),e.fetchUserInfo(),e.fetchSetting()}}).catch(function(t){console.log(t),e.$message({message:"试玩出错啦！",type:"error",force:!0})}))}},components:{modAccountLoginHead:n.a}}},736:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(863),r=s.n(i);t.default={extends:r.a}},862:function(e,t,s){var i=s(0)(s(678),s(902),null,null);e.exports=i.exports},863:function(e,t,s){var i=s(0)(s(679),s(1007),null,null);e.exports=i.exports},902:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"kd-body kd-body--login"},[s("div",{staticClass:"logo-wrapper kd-center"},[s("span",{staticClass:"logo"},[e.loginLogo?s("img",{staticClass:"custom-logo__img",attrs:{src:e.loginLogo}}):s("i",{staticClass:"icon icon-logo"})])]),e._v(" "),s("form",{staticClass:"kd-form kd-container",on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"kd-field"},[s("label",{staticClass:"kd-field-title",attrs:{for:"username"}},[e._v("账号")]),e._v(" "),s("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.user_name,expression:"user.user_name",modifiers:{trim:!0}},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"text",id:"username",placeholder:"用户名 / 手机号 / 用户ID"},domProps:{value:e.user.user_name},on:{input:function(t){t.target.composing||e.$set(e.user,"user_name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("div",{staticClass:"kd-field"},[s("label",{staticClass:"kd-field-title",attrs:{for:"password"}},[e._v("密码")]),e._v(" "),s("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"password",id:"password",placeholder:"输入6-20位密码"},domProps:{value:e.user.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doLogin(t)},input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})])]),e._v(" "),2!==e.verifyMode?s("div",{staticClass:"kd-field"},[s("label",{staticClass:"kd-field-title",attrs:{for:"qrcode"}},[e._v("验证码")]),e._v(" "),s("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.qr,expression:"user.qr"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"text",id:"qrcode",placeholder:"请输入验证码"},domProps:{value:e.user.qr},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doLogin(t)},input:function(t){t.target.composing||e.$set(e.user,"qr",t.target.value)}}}),e._v(" "),s("img",{attrs:{src:e.verifyCodeUrl,alt:"验证码",title:"点击刷新验证码"},on:{click:e.changeVerifyCode}})]),e._v(" "),1===e.verifyMode?s("div",{staticClass:"login__tips"},[e._v("验证码请输入右侧计算结果")]):e._e()]):e._e(),e._v(" "),s("div",{staticClass:"kd-field kd-row kd-row-remembered"},[s("div",{staticClass:"kd-col remember-user-name"},[s("kd-checkbox",{attrs:{id:"remember-user-name"},model:{value:e.rememberedUserName,callback:function(t){e.rememberedUserName=t},expression:"rememberedUserName"}}),e._v(" "),s("label",{attrs:{for:"remember-user-name"},on:{click:function(t){return e.toggleToRemember("userName")}}},[e._v("记住账号")])],1),e._v(" "),s("div",{staticClass:"kd-col remember-password kd-align-center"},[s("kd-checkbox",{attrs:{id:"remember-password"},model:{value:e.rememberedPassword,callback:function(t){e.rememberedPassword=t},expression:"rememberedPassword"}}),e._v(" "),s("label",{attrs:{for:"remember-password"},on:{click:function(t){return e.toggleToRemember("password")}}},[e._v("记住密码")])],1),e._v(" "),s("div",{staticClass:"kd-col kd-align-right"},[s("router-link",{attrs:{to:"/forgot-password"}},[e._v("忘记密码？")])],1)]),e._v(" "),s("div",{staticClass:"kd-buttons"},[s("kd-button",{staticClass:"main-button",on:{click:e.doLogin}},[s("span",[e._v("马上登录")])]),e._v(" "),s("kd-button",{staticClass:"hollow",on:{click:e.goToRegister}},[e._v("免费注册")])],1),e._v(" "),e.isShowedAuthorizeLoginButton?s("div",{staticClass:"authorize-login"},[e._m(0),e._v(" "),s("p",{staticClass:"authorize-login__btns"},[s("a",{on:{click:function(t){return e.doAuthorizeLogin("weixin")}}},[s("i",{staticClass:"icon icon-weixin"})]),s("a",{on:{click:function(t){return e.doAuthorizeLogin("qq")}}},[s("i",{staticClass:"icon icon-qq-im"})])])]):e._e()]),e._v(" "),e.loginTexts&&e.loginTexts.length?s("div",{staticClass:"login-text"},e._l(e.loginTexts,function(t){return s("div",{staticClass:"login-text__item"},e._l(t,function(t){return s("p",[e._v(e._s(t))])}),0)}),0):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("span",{staticClass:"authorize-login__line"}),e._v("授权登录"),s("span",{staticClass:"authorize-login__line authorize-login__line--end"})])}]}}});
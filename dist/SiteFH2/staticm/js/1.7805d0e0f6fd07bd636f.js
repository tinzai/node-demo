webpackJsonp([1],{116:function(t,a,e){var s=e(0)(e(528),null,null,null);t.exports=s.exports},417:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(28),i=e.n(s),l=e(16),n=e.n(l),r=e(75),o=e(45),c=(e(113),e(44)),u=e(76);a.default={name:"PageAccountRecordOfPlaying",mixins:[c.a],props:["iscomponent"],data:function(){return{filterCurrentGameId:"",startDate:"",endDate:"",startDateFilter:e.i(r.b)("","Y-M-D"),endDateFilter:e.i(r.b)("","Y-M-D"),currentGameId:"all",games:n()({all:"所有",opening:"未开奖记录"},this.setGames()),currentPage:1,totalPages:1,totalCount:0,totalAmountOfCurrentPage:0,totalAmount:0,totalEarnAmount:0,recordsLengthPerPage:20,list:[],colors:["red","blue","green"],cardNames:{1:"A",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"J",12:"Q",13:"K"},suits:{S:"spade",H:"heart",D:"diamond",C:"club"},isOpenedFilterPrompt:!1,loading:!0,filterUserId:"",loadtips:"正在加载数据"}},computed:{nameOfCurrentGame:function(){return"all"===this.currentGameId?"":this.games[this.currentGameId]},pageTitle:function(){return this.$store.state.pageTitle},isUserLogined:function(){return this.$store.state.user.isUserLogined},gameId:function(){var t=this.filterCurrentGameId;return"l"===t&&(t="a"),t}},created:function(){if(this.iscomponent&&!this.isUserLogined)return void(this.loadtips="请先登录！");this.filterCurrentGameId=this.$route.params.gameId?this.$route.params.gameId:"all",this.currentGameId=this.$route.params.gameId?"l"===this.$route.params.gameId?"a":this.$route.params.gameId:"all";var t=this.iscomponent?this.nameOfCurrentGame:this.$labels.accountRecordOfPlaying;"AccountRecordOfPlayingWithId"===this.$route.name?this.currentGameId=this.$route.params.gameId:"AccountDownlineDetail"===this.$route.name&&(this.filterUserId=this.$route.params.id,t="打码明细"),this.iscomponent||this.$store.commit("setPage",{pageTitle:t,className:"page-account-record-of-playing"}),this.fetchList(1)},methods:{getAllGames:function(){var t=this,a=[],e=[];return this.$store.state.gameOrders.GroupOrderBy&&this.$store.state.gameOrders.GroupOrderBy.forEach(function(t,e){var s=t.split("-");s.length>=2?a.find(function(t){return"彩票"===t.name})||s[0].indexOf("彩票")>-1&&a.push({name:"彩票",theme:"cp",code:"彩票",nav:[],games:[]}):1===s.length&&"六合彩"!=s[0]&&a.push({name:s[0],code:s[0],games:[],theme:""})}),a.forEach(function(a,s){t.gameGroups(a.code,t.$store.state.gameOrders.GameOrderBy).forEach(function(t){-1===e.indexOf(t)&&e.push(t)})}),e},gameGroups:function(t,a){var e=[];return a&&a.forEach(function(a,s){"彩票"==t?(a.GroupName.indexOf(t)>-1||a.GroupName.indexOf("六合彩")>-1)&&-1===e.indexOf(a.GameNo)&&a.Display&&("l"===a.GameNo?e.push("a","b"):e.push(a.GameNo)):a.GroupName===t&&-1===e.indexOf(a.GameNo)&&a.Display&&e.push(a.GameNo)}),e},setGames:function(){var t=this,a={},e=[];this.getAllGames().forEach(function(t,a){u.a.instance.modules.hasOwnProperty("g"+t)&&e.push(u.a.instance.modules["g"+t])});for(var s in e)!function(s){var i=e[s],l=t.$store.state.CustomizeNames.find(function(t){return t.GameNo===i.gameId});a[i.gameId]=l?l.Name_Customize:e[s].gameName}(s);return a},fetchAccountRecordOfPlaying:function(t){var a=this;return this.loading=!0,this.$store.dispatch("uFetchAccountRecordOfPlaying",t).then(function(e){if(void 0===e.List)a.$message({message:e.S+": "+e.D,type:"warning"});else{var s=[],l=0;e.List.forEach(function(t){l+=parseFloat(t.Amount,10),t.Result=t.Result||"",t.Result_SP=t.Result_SP||"",t.Result_SP2=t.Result_SP2||"";var e={number:t.Numbers,info:t.BetInfo,content:t.BetContent,amount:t.Amount,earnAmount:t.EarnAmount,date:t.Date,odds:t.Odds,specialOdds:t.Odds_SP,gameId:t.GameNo,gameType:"g"+t.GameNo,productId:t.GamePlayNo,zodiac:""===t.Result_SP?[]:t.Result_SP.split(","),colors:""===t.Result_SP2?[]:t.Result_SP2.split(",")};if(""===t.Result)e.balls=[];else if("gbaccarat"===e.gameType||"gjinhua"===e.gameType){var i=[];t.Result.split("|").forEach(function(t){var e=[];t.split(",").forEach(function(t){e.push(a.cardNames[t])}),i.push(e)}),e.balls=i}else"glonghu"===e.gameType?(e.balls=[],t.Result.split("|").forEach(function(t){e.balls.push(a.cardNames[t])})):e.balls=t.Result.split(",");if("gbaccarat"===e.gameType||"gjinhua"===e.gameType){var n=[];t.Result_SP2.split("|").forEach(function(t){var e=[];t.split(",").forEach(function(t){e.push(a.suits[t])}),n.push(e)}),e.suits=n}else if("glonghu"===e.gameType){var r=[];t.Result_SP2.split("|").forEach(function(t){r.push(a.suits[t])}),e.suits=r}else e.number=a.formatNumbers(t.Numbers);e.number=a.changeGameName(e.number),s.push(e)}),a.loading=!1,t.additional?a.list=[].concat(i()(a.list),s):a.list=s,a.totalAmountOfCurrentPage=l.toFixed(2),a.currentPage=e.NowPage,a.totalAmount=e.TotalAmount,a.totalEarnAmount=e.TotalEarnAmount,a.totalCount=e.TotalCount,a.totalPages=e.TotalPage}}).catch(function(t){console.log(t),a.loading=!1,a.$message({message:"获取投注记录出错啦！",type:"error",force:!0})})},fetchList:function(t,a){if(!(t>this.totalPages)){this.filterCurrentGameId=this.currentGameId;var e="opening"===this.currentGameId,s={currentPage:t,recordsLengthPerPage:this.recordsLengthPerPage,startDate:this.startDate,endDate:this.endDate,gameId:"all"===this.currentGameId||e?"":this.currentGameId,opening:e,additional:a,userId:this.filterUserId};this.fetchAccountRecordOfPlaying(s),this.closeFilterPrompt()}},validateFields:function(){if(this.startDateFilter){var t=new Date;if(t.setDate(t.getDate()-30),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),new Date(this.startDateFilter)<t)return this.$message({message:"只能查询最近30天的记录!",type:"warning"}),this.startDate=e.i(r.b)(t,"Y-M-D"),!1}return!0},filterList:function(){this.validateFields()&&(this.startDate=this.startDateFilter,this.endDate=this.endDateFilter,this.fetchList(1))},openFilterPrompt:function(){this.isOpenedFilterPrompt=!0},closeFilterPrompt:function(){this.isOpenedFilterPrompt=!1},getSpecialMark:function(t){var a="",s="";return a=(e.i(o.c)(t,25,49)+"").replace("large","大").replace("small","小").replace("middle","和"),s=(e.i(o.a)(t)+"").replace("odd","单").replace("even","双").replace("middle","和"),t+", "+a+", "+s},getDragonAndTiger:function(t,a){return t=parseInt(t,10),a=parseInt(a,10),!isNaN(t)&&!isNaN(a)&&(t===a?"和":t>a?"龙":"虎")},computeAndValue:function(t,a){var s=0,i="",l="";t.forEach(function(t){t=parseInt(t,10),s+=isNaN(t)?0:t});var n=this.getGame(a);if(n){var r=n.andValueLarge,c=n.andValueMiddle;return void 0!==r&&(i=e.i(o.c)(s,r,c).replace("large","大").replace("small","小").replace("middle","和")),l=e.i(o.a)(s).replace("odd","单").replace("even","双").replace("middle","和"),s+", "+(""===i?"":i+", ")+l}},toggleResult:function(t){this.$set(this.list[t],"showResult",!this.list[t].showResult)},isPCDD:function(t){var a=this.getGame(t);return!!a&&a.isPcdd},isBaccarat:function(t){var a=this.getGame(t);return!!a&&a.isBaccarat},isLonghu:function(t){var a=this.getGame(t);return!!a&&a.isLonghu},isJinhua:function(t){var a=this.getGame(t);return!!a&&a.isJinhua},is115:function(t){var a=this.getGame(t);return!!a&&a.isS115},isFSSC:function(t){var a=this.getGame(t);return!!a&&a.isFSSC},isCar:function(t){var a=this.getGame(t);return!!a&&a.isCar},isSSC:function(t){var a=this.getGame(t);return!!a&&a.isSsc},isSix:function(t){var a=this.getGame(t);return!!a&&a.isSix},isPailie3:function(t){var a=this.getGame(t);return!!a&&a.isPailie3},isFarm:function(t){var a=this.getGame(t);return!!a&&a.isFarm},isKlsf:function(t){var a=this.getGame(t);return!!a&&a.isKlsf},isKuai3:function(t){var a=this.getGame(t);return!!a&&a.isKuai3},formatNumbersCommon:function(t){return t?t.replace("澳门快3","五分快3"):""},formatNumbers:function(t){return this.formatNumbersCommon(t)},changeGameName:function(t){return t?this.sfk3Bh?t.replace("十分快3","海南快3"):this.sfk3Yl?t.replace("十分快3","新疆快3"):t:t}}}},485:function(t,a,e){var s=e(0)(e(417),e(486),null,null);t.exports=s.exports},486:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"kd-body"},[e("ul",{staticClass:"nostyle kd-container kd-list data-list playing-record-list"},[0===t.list.length?e("li",{staticClass:"item empty"},[t._v(t._s(t.loading?t.loadtips:t.changeGameName(t.nameOfCurrentGame)+"没有数据!"))]):t._l(t.list,function(a,s){return e("li",{staticClass:"item kd-box data"},[e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("期号：")]),e("span",{staticClass:"data-item-value"},[t._v(t._s(a.number))])]),t._v(" "),e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("玩法：")]),e("span",{staticClass:"data-item-value"},[t._v(t._s(a.info)+t._s(a.content?" ("+a.content+")":""))])]),t._v(" "),e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("投注：")]),e("span",{staticClass:"data-item-value"},[t._v("￥"+t._s(a.amount)+"，中奖："+t._s(a.earnAmount?"￥"+a.earnAmount:"-")+"\n                "),t.filterUserId?t._e():e("a",{staticClass:"data-detail-btn",class:{"data-detail-btn--down":a.showResult},on:{click:function(a){return t.toggleResult(s)}}},[t._v("详情")])])]),t._v(" "),t.filterUserId?e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("下注：")]),e("span",{staticClass:"data-item-value"},[t._v(t._s(a.date))])]):t._e(),t._v(" "),a.showResult?[e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("下注：")]),e("span",{staticClass:"data-item-value"},[t._v(t._s(a.date))])]),t._v(" "),e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("赔率：")]),e("span",{staticClass:"data-item-value"},[t._v(t._s(a.odds)+t._s(a.specialOdds?" ( "+a.specialOdds+" ) ":""))])]),t._v(" "),a.balls.length>0?[e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("开奖：")]),t._v(" "),t.isBaccarat(a.gameType)?e("ul",{staticClass:"nostyle data-item-value balls"},[t._l(a.balls,function(s,i){return[1===i?e("li",{staticStyle:{display:"block"}}):t._e(),t._v(" "),e("li",[e("span",{staticClass:"lottery-ball-title"},[t._v(t._s(0===i?"庄":"闲"))])]),t._v(" "),t._l(s,function(s,l){return e("li",[e("span",{staticClass:"lottery-ball",class:[a.gameId,"group-"+(0===i?"bank":"player"),a.suits[i][l]]},[t._v(t._s(s))])])})]})],2):t.isLonghu(a.gameType)?e("ul",{staticClass:"nostyle data-item-value balls"},[t._m(0,!0),t._v(" "),e("li",[e("span",{staticClass:"lottery-ball dragon",class:[a.gameId,a.suits[0]]},[t._v(t._s(a.balls[0]))])]),t._v(" "),t._m(1,!0),t._v(" "),e("li",[e("span",{staticClass:"lottery-ball tiger",class:[a.gameId,a.suits[1]]},[t._v(t._s(a.balls[1]))])])]):t.isJinhua(a.gameType)?e("ul",{staticClass:"nostyle data-item-value balls"},[t._l(a.balls,function(s,i){return[1===i?e("li",{staticStyle:{display:"block"}}):t._e(),t._v(" "),e("li",[e("span",{staticClass:"lottery-ball-title"},[t._v(t._s(0===i?"龙":"凤"))])]),t._v(" "),t._l(s,function(s,l){return e("li",[e("span",{staticClass:"lottery-ball",class:[a.gameId,"group-"+(0===i?"bank":"player"),a.suits[i][l]]},[t._v(t._s(s))])])})]})],2):t.isSix(a.gameType)?e("ul",{staticClass:"nostyle data-item-value balls"},[t._l(a.balls,function(s,i){return[6===i?e("li",[e("span",{staticClass:"lottery-plus gl"})]):t._e(),t._v(" "),e("li",[e("span",{staticClass:"lottery-ball",class:["marksix solid",a.colors?t.colors[a.colors[i]-1]:""]},[t._v(t._s(s))]),a.zodiac?[e("br"),e("span",{staticClass:"lottery-prop"},[t._v(t._s(a.zodiac[i]))])]:t._e()],2)]})],2):t.isCar(a.gameType)?e("ul",{staticClass:"nostyle data-item-value balls"},t._l(a.balls,function(a,s){return e("li",[e("span",{staticClass:"lottery-ball",class:["pk10","solid","ball"+parseInt(a,10)]},[t._v(t._s(a))])])}),0):t.isFarm(a.gameType)?e("ul",{staticClass:"nostyle data-item-value balls xync"},t._l(a.balls,function(a,s){return e("li",[e("span",{staticClass:"lottery-ball",class:["xync","solid","ball"+parseInt(a,10)]},[t._v(t._s(a))])])}),0):t.isKuai3(a.gameType)?e("ul",{staticClass:"nostyle data-item-value balls"},t._l(a.balls,function(a,s){return e("li",[e("span",{staticClass:"lottery-ball",class:["jsk3","solid","ball"+parseInt(a,10)]},[t._v(t._s(a))])])}),0):e("ul",{staticClass:"nostyle data-item-value balls"},[t._l(a.balls,function(a,s){return[e("li",[e("span",{staticClass:"lottery-ball",class:[t.gameClass,"solid"]},[t._v(t._s(a))])])]})],2)]),t._v(" "),t.isSix(a.gameType)?e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("特码：")]),t._v(" "),e("span",{staticClass:"data-item-value"},[t._v(t._s(t.getSpecialMark(a.balls[6])))])]):t._e(),t._v(" "),t.isSSC(a.gameType)||t.isFSSC(a.gameType)?e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("龙虎：")]),t._v(" "),e("span",{staticClass:"data-item-value"},[t._v(t._s(t.getDragonAndTiger(a.balls[0],a.balls[4])))])]):t._e(),t._v(" "),t.isCar(a.gameType)?e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v("和值：")]),t._v(" "),e("span",{staticClass:"data-item-value"},[t._v(t._s(t.computeAndValue([a.balls[0],a.balls[1]],a.gameType)))])]):t.isBaccarat(a.gameType)||t.isLonghu(a.gameType)||t.isJinhua(a.gameType)?t._e():e("div",{staticClass:"data-item"},[e("span",{staticClass:"data-item-key"},[t._v(t._s(t.isSix(a.gameType)?"总和":"和值")+"：")]),t._v(" "),e("span",{staticClass:"data-item-value"},[t._v(t._s(t.computeAndValue(a.balls,a.gameType)))])])]:t._e()]:t._e()],2)})],2),t._v(" "),t.list.length>0?e("kd-pager",{attrs:{currentPage:t.currentPage,totalPages:t.totalPages},on:{toPage:t.fetchList}}):t._e(),t._v(" "),t.list.length>0?e("div",{staticClass:"kd-container kd-list two-cols total"},[e("div",{staticClass:"item"},[e("span",{staticClass:"kd-col"},[t._v("小计：")]),e("span",{staticClass:"kd-col"},[t._v("￥"+t._s(t.totalAmountOfCurrentPage))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"kd-col"},[t._v("总计：")]),e("span",{staticClass:"kd-col"},[t._v("￥"+t._s(t.totalAmount))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"kd-col"},[t._v("总中奖：")]),e("span",{staticClass:"kd-col"},[t._v("￥"+t._s(t.totalEarnAmount))])])]):t._e(),t._v(" "),e("transition",{attrs:{"enter-active-class":"animated zoom-in","leave-active-class":"animated bounce-out"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpenedFilterPrompt,expression:"isOpenedFilterPrompt"}],staticClass:"promptbox-wrapper"},[e("section",{staticClass:"promptbox filter-tool"},[e("div",{staticClass:"prompt-head"},[t._v("过滤")]),t._v(" "),e("div",{staticClass:"prompt-body kd-form"},[e("div",{staticClass:"filter-tool-body"},[e("div",{staticClass:"kd-field"},[e("label",{staticClass:"kd-field-title"},[t._v("起始时间")]),t._v(" "),e("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.startDateFilter,expression:"startDateFilter"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"date"},domProps:{value:t.startDateFilter},on:{input:function(a){a.target.composing||(t.startDateFilter=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"kd-field"},[e("label",{staticClass:"kd-field-title"},[t._v("截止时间")]),t._v(" "),e("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.endDateFilter,expression:"endDateFilter"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"date"},domProps:{value:t.endDateFilter},on:{input:function(a){a.target.composing||(t.endDateFilter=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"kd-field"},[e("label",{staticClass:"kd-field-title"},[t._v("游戏类型")]),t._v(" "),e("div",{directives:[{name:"select",rawName:"v-select"}],staticClass:"kd-select"},[e("span",{staticClass:"value"},[t._v(t._s(t.changeGameName(t.games[t.currentGameId])))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.currentGameId,expression:"currentGameId"},{name:"focus-fixed",rawName:"v-focus-fixed"}],on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currentGameId=a.target.multiple?e:e[0]}}},t._l(t.games,function(a,s){return t.filterUserId&&(~a.indexOf("六合彩")||~a.indexOf("港彩"))?t._e():e("option",{domProps:{value:s,selected:s===t.currentGameId}},[t._v(t._s(t.changeGameName(a)))])}),0)])])]),t._v(" "),e("kd-button",{on:{click:t.filterList}},[e("span",[t._v("确 定")])])],1),t._v(" "),e("a",{staticClass:"prompt-close kd-close",attrs:{href:"javascript:;"},on:{click:t.closeFilterPrompt}},[t._v("close")])]),t._v(" "),e("div",{staticClass:"promptbox-overlay"})])]),t._v(" "),e("a",{staticClass:"filter-tool-toggle",attrs:{href:"javascript:;"},on:{click:t.openFilterPrompt}},[t._v("过滤球")])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("span",{staticClass:"lottery-ball-title"},[t._v("龙")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("span",{staticClass:"lottery-ball-title"},[t._v("虎")])])}]}},528:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(485),i=e.n(s);a.default={extends:i.a,methods:{formatNumbers:function(t){return t?this.formatNumbersCommon(t).replace("五分时时彩","十分时时彩"):t}}}}});
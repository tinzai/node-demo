webpackJsonp([33],{375:function(t,e,a){var s=a(0)(a(735),null,null,null);t.exports=s.exports},677:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(28),i=a.n(s),n=a(75),o=function(){var t=a.i(n.d)();return t.setDate(t.getDate()-15),a.i(n.b)(t,"Y-M-D")};e.default={name:"PageAccountLiquidityOfBalanceSheet",data:function(){return{startDate:o(),endDate:a.i(n.b)("","Y-M-D"),type:"",types:["","充值","提现","投注","派奖","抢币","红包","返水","代理收入","签到","扣款","特殊入账","优惠入账","撤销提现","撤销充值","抽奖","输赢返利","会员发红包","会员抢红包","红包结算","红包游戏","退款","手动红包","撤销优惠入账","额度转入","额度转出","其他类型"],currentPage:1,totalPages:1,totalCount:0,totalAmountOfCurrentPage:0,totalAmount:0,recordsLengthPerPage:20,list:[],isOpenedFilterPrompt:!1,loading:!0}},created:function(){this.$route.query.type&&(this.type="红包游戏"),this.$store.commit("setPage",{pageTitle:this.$labels.accountLiquidityOfBalanceSheet,className:"page-account-liquidity-of-balance-sheet"}),this.fetchList(1)},methods:{fetchAccountLiquidity:function(t){var e=this;return this.loading=!0,this.$store.dispatch("uFetchAccountLiquidity",t).then(function(a){if(void 0===a.List)e.$message({message:a.S+": "+a.D,type:"warning"});else{var s=[],n=0;a.List.forEach(function(t){n+=parseFloat(t.Amount,10),t.Comment=e.changeGameName(t.Comment),s.push({amount:t.Amount,comment:e.formatComment(t.Comment),datetime:t.Date,type:t.Type})}),e.loading=!1,t.additional?e.list=[].concat(i()(e.list),s):e.list=s,e.totalAmountOfCurrentPage=n.toFixed(2),e.currentPage=a.NowPage,e.totalAmount=a.TotalAmount,e.totalCount=a.TotalCount,e.totalPages=a.TotalPage}}).catch(function(t){console.log(t),e.loading=!1,e.$message({message:"获取账户流水出错啦！",type:"error",force:!0})})},fetchList:function(t,e){var a={currentPage:t,recordsLengthPerPage:this.recordsLengthPerPage,startDate:this.startDate,endDate:this.endDate,type:this.type,additional:e};this.fetchAccountLiquidity(a),this.closeFilterPrompt()},openFilterPrompt:function(){this.isOpenedFilterPrompt=!0},closeFilterPrompt:function(){this.isOpenedFilterPrompt=!1},formatCommentCommon:function(t){return t?t.replace("澳门快3","五分快3"):""},formatComment:function(t){return this.formatCommentCommon(t)},validateFields:function(){if(this.startDate){var t=new Date;if(t.setDate(t.getDate()-15),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),new Date(this.startDate)<t)return this.$message({message:"只能查询最近15天的记录!",type:"warning"}),this.startDate=a.i(n.b)(t,"Y-M-D"),!1}return!0},filterList:function(){this.validateFields()&&this.fetchList(1)},changeGameName:function(t){return this.sfk3Bh?t.replace("十分快3","海南快3"):this.sfk3Yl?t.replace("十分快3","新疆快3"):t}}}},735:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(861),i=a.n(s);e.default={extends:i.a,methods:{formatComment:function(t){return t?this.formatCommentCommon(t).replace("五分时时彩","十分时时彩"):t}}}},861:function(t,e,a){var s=a(0)(a(677),a(911),null,null);t.exports=s.exports},911:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"kd-body"},[a("ul",{staticClass:"nostyle kd-container kd-list data-list"},[0===t.list.length?a("li",[t._v(t._s(t.loading?"正在加载数据":"没有数据!"))]):t._l(t.list,function(e){return a("li",{staticClass:"item kd-box data"},[a("div",{staticClass:"data-item"},[a("span",{staticClass:"data-item-key"},[t._v("流水类型：")]),a("span",{staticClass:"data-item-value"},[t._v(t._s(e.type))])]),t._v(" "),a("div",{staticClass:"data-item"},[a("span",{staticClass:"data-item-key"},[t._v("发生金额：")]),a("span",{staticClass:"data-item-value"},[t._v("￥"+t._s(e.amount))])]),t._v(" "),a("div",{staticClass:"data-item"},[a("span",{staticClass:"data-item-key"},[t._v("日 期：")]),a("span",{staticClass:"data-item-value"},[t._v(t._s(e.datetime))])]),t._v(" "),a("div",{staticClass:"data-item"},[a("span",{staticClass:"data-item-key"},[t._v("备 注：")]),a("span",{staticClass:"data-item-value"},[t._v(t._s(e.comment))])])])})],2),t._v(" "),t.list.length>0?a("kd-pager",{attrs:{currentPage:t.currentPage,totalPages:t.totalPages},on:{toPage:t.fetchList}}):t._e(),t._v(" "),t.list.length>0?a("div",{staticClass:"kd-container kd-list two-cols total"},[a("div",{staticClass:"item"},[a("span",{staticClass:"kd-col"},[t._v("小计：")]),a("span",{staticClass:"kd-col"},[t._v("￥"+t._s(t.totalAmountOfCurrentPage))])]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"kd-col"},[t._v("总计：")]),a("span",{staticClass:"kd-col"},[t._v("￥"+t._s(t.totalAmount))])])]):t._e(),t._v(" "),a("transition",{attrs:{"enter-active-class":"animated zoom-in","leave-active-class":"animated bounce-out"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpenedFilterPrompt,expression:"isOpenedFilterPrompt"}],staticClass:"promptbox-wrapper"},[a("section",{staticClass:"promptbox filter-tool"},[a("div",{staticClass:"prompt-head"},[t._v("过滤")]),t._v(" "),a("div",{staticClass:"prompt-body kd-form"},[a("div",{staticClass:"filter-tool-body"},[a("div",{staticClass:"kd-field"},[a("label",[t._v("起始时间")]),t._v(" "),a("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"date"},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"kd-field"},[a("label",[t._v("截止时间")]),t._v(" "),a("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"date"},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"kd-field"},[a("label",[t._v("流水类型")]),t._v(" "),a("div",{directives:[{name:"select",rawName:"v-select"}],staticClass:"kd-select"},[a("span",{staticClass:"value"},[t._v(t._s(t.type?t.type:"所有"))]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"},{name:"focus-fixed",rawName:"v-focus-fixed"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type=e.target.multiple?a:a[0]}}},t._l(t.types,function(e){return a("option",{domProps:{value:e,selected:t.type===e}},[t._v(t._s(e||"所有"))])}),0)])])]),t._v(" "),a("kd-button",{on:{click:t.filterList}},[a("span",[t._v("确 定")])])],1),t._v(" "),a("a",{staticClass:"prompt-close kd-close",attrs:{href:"javascript:;"},on:{click:t.closeFilterPrompt}},[t._v("close")])]),t._v(" "),a("div",{staticClass:"promptbox-overlay"})])]),t._v(" "),a("a",{staticClass:"filter-tool-toggle",attrs:{href:"javascript:;"},on:{click:t.openFilterPrompt}},[t._v("过滤球")])],1)},staticRenderFns:[]}}});
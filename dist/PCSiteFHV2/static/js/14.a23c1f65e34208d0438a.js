webpackJsonp([14],{1051:function(t,e,n){n(880);var s=n(0)(n(838),n(1105),null,null);t.exports=s.exports},1105:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"kd-body container-lg account__main"},[n("mod-account-main",[n("div",{staticClass:"account__sidebar"},[n("mod-account-sub-nav-public")],1),t._v(" "),n("div",{staticClass:"account__body"},[n("div",{staticClass:"account__body-title"},[t._v("代理管理")]),t._v(" "),n("div",{staticClass:"account__body-content"},[n("ul",{staticClass:"nostyle account-nav"},[n("li",{on:{click:function(e){return t.$router.push({name:"AccountPromotion"})}}},[n("a",[t._v("代理推广")])]),t._v(" "),n("li",{on:{click:function(e){return t.$router.push({name:"AccountDownlineMembersList"})}}},[n("a",[t._v("我的推广用户")])]),t._v(" "),n("li",{on:{click:function(e){return t.$router.push({name:"AccountDownlineRecords"})}}},[n("a",[t._v("代理报表")])]),t._v(" "),n("li",{staticClass:"active",on:{click:function(e){return t.$router.push({name:"AccountDownlineList"})}}},[n("a",[t._v("代理管理")])])]),t._v(" "),n("div",{staticClass:"account__content-table"},[n("table",{staticClass:"account__table"},[n("thead",[n("tr",[n("th",[t._v("ID")]),t._v(" "),n("th",[t._v("用户名")]),t._v(" "),n("th",[t._v("姓名")]),t._v(" "),n("th",[t._v("注册日期")]),t._v(" "),n("th",[t._v("操作"),n("a",{staticClass:"downline-list__sort",class:[{"downline-list__sort-active":!!t.sortation,"downline-list__sort-a":"a"===t.sortation}],on:{click:t.sortBet}},[t._v("打码")])])])]),t._v(" "),n("tbody",[t.list&&t.list.length?t._e():n("tr",[n("td",{attrs:{colspan:"5"}},[t._v(t._s(t.loading?"正在加载数据":"没有数据!"))])]),t._v(" "),t._l(t.list,function(e){return n("tr",[n("td",[t._v(t._s(e.Id))]),t._v(" "),n("td",[t._v(t._s(e.UserName))]),t._v(" "),n("td",[t._v(t._s(e.RealName))]),t._v(" "),n("td",[t._v(t._s(e.Reg_Date))]),t._v(" "),n("td",{staticClass:"promotion-table-buttons"},[n("router-link",{staticClass:"kd-button",attrs:{to:{name:"AccountDownlineDetail",params:{id:e.Id}}}},[n("span",{staticClass:"text"},[t._v("打码明细")])])],1)])})],2)]),t._v(" "),t.list.length>0?[n("kd-pager",{attrs:{currentPage:t.currentPage,totalPages:t.totalPages},on:{toPage:t.fetchUsers}}),t._v(" "),n("div",{staticClass:"kd-container kd-list two-cols total two-cols--downline-list"},[n("div",{staticClass:"item"},[n("span",{staticClass:"kd-col"},[t._v("本页会员数：")]),n("span",{staticClass:"kd-col"},[t._v(t._s(t.list.length))])]),t._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"kd-col"},[t._v("总会员数：")]),n("span",{staticClass:"kd-col"},[t._v(t._s(t.totalCount))])])])]:t._e()],2)])])]),t._v(" "),n("mod-downline-setting",{attrs:{visibleSetting:t.visibleSetting,oUserId:t.oUserId},on:{"update:visibleSetting":function(e){t.visibleSetting=e},"update:visible-setting":function(e){t.visibleSetting=e}}})],1)},staticRenderFns:[]}},1133:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"kd-body"},[n("div",{staticClass:"downline-list-container"},[n("table",{staticClass:"game-account__table"},[n("tr",[n("th",{attrs:{width:"15%"}},[t._v("ID")]),t._v(" "),n("th",{attrs:{width:"15%"}},[t._v("用户名")]),t._v(" "),n("th",{attrs:{width:"18%"}},[t._v("姓名")]),t._v(" "),n("th",{attrs:{width:"22%"}},[t._v("注册日期")]),t._v(" "),n("th",{attrs:{width:"30%"}},[t._v("\n                        操作"),n("a",{staticClass:"downline-list__sort",class:[{"downline-list__sort-active":!!t.sortation,"downline-list__sort-a":"a"===t.sortation}],on:{click:t.sortBet}},[t._v("打码")])])]),t._v(" "),t.list&&t.list.length?t._e():n("tr",[n("td",{attrs:{colspan:"5"}},[t._v(t._s(t.loading?"正在加载数据":"没有数据!"))])]),t._v(" "),t._l(t.list,function(e){return n("tr",[n("td",[t._v(t._s(e.Id))]),t._v(" "),n("td",[t._v(t._s(e.UserName))]),t._v(" "),n("td",[t._v(t._s(e.RealName))]),t._v(" "),n("td",[t._v(t._s(e.Reg_Date))]),t._v(" "),n("td",[n("router-link",{staticClass:"kd-button",attrs:{to:{name:"AccountDownlineDetail",params:{id:e.Id}}}},[n("span",{staticClass:"text"},[t._v("打码明细")])])],1)])})],2)]),t._v(" "),t.list.length>0?[n("kd-pager",{attrs:{currentPage:t.currentPage,totalPages:t.totalPages},on:{toPage:t.fetchUsers}}),t._v(" "),n("div",{staticClass:"kd-container kd-list two-cols total two-cols--downline-list"},[n("div",{staticClass:"item"},[n("span",{staticClass:"kd-col"},[t._v("本页会员数：")]),n("span",{staticClass:"kd-col"},[t._v(t._s(t.list.length))])]),t._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"kd-col"},[t._v("总会员数：")]),n("span",{staticClass:"kd-col"},[t._v(t._s(t.totalCount))])])])]:t._e(),t._v(" "),n("mod-downline-setting",{attrs:{visibleSetting:t.visibleSetting,oUserId:t.oUserId},on:{"update:visibleSetting":function(e){t.visibleSetting=e},"update:visible-setting":function(e){t.visibleSetting=e}}})],2)},staticRenderFns:[]}},1210:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{"enter-active-class":"animated zoom-in","leave-active-class":"animated bounce-out"}},[t.visibleSetting?n("div",{staticClass:"promptbox-wrapper promptbox-downline-setting"},[n("section",{staticClass:"promptbox"},[n("div",{staticClass:"prompt-head"},[t._v("提成设置")]),t._v(" "),n("div",{staticClass:"prompt-body"},[n("div",{staticClass:"kd-field"},[n("label",{staticClass:"kd-field-title"},[t._v("代理总提成"+t._s(t.settingSum)+"%，其中该会员的：")])]),t._v(" "),n("div",{staticClass:"kd-field"},[n("label",{staticClass:"kd-field-title",attrs:{for:"downline-setting1"}},[t._v("一级上线（推荐人）占：")]),t._v(" "),n("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[n("input",{directives:[{name:"money",rawName:"v-money"},{name:"model",rawName:"v-model",value:t.setting1,expression:"setting1"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"number",step:"0.01",id:"downline-setting1",placeholder:"请输入一级提成"},domProps:{value:t.setting1},on:{change:t.changeSetting1,input:function(e){e.target.composing||(t.setting1=e.target.value)}}}),n("span",[t._v("%")])])]),t._v(" "),n("div",{staticClass:"kd-field"},[n("label",{staticClass:"kd-field-title",attrs:{for:"downline-setting2"}},[t._v("二级上线占：")]),t._v(" "),n("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[n("input",{directives:[{name:"money",rawName:"v-money"},{name:"model",rawName:"v-model",value:t.setting2,expression:"setting2"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"number",step:"0.01",id:"downline-setting2",placeholder:"二级提成必须≥"+t.setting2_min},domProps:{value:t.setting2},on:{change:t.changeSetting2,input:function(e){e.target.composing||(t.setting2=e.target.value)}}}),n("span",[t._v("%")])])]),t._v(" "),n("div",{staticClass:"kd-field"},[n("label",{staticClass:"kd-field-title",attrs:{for:"downline-setting3"}},[t._v("三级上线占：")]),t._v(" "),n("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[n("input",{directives:[{name:"money",rawName:"v-money"},{name:"model",rawName:"v-model",value:t.setting3,expression:"setting3"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"number",step:"0.01",id:"downline-setting3",placeholder:"三级提成必须≥"+t.setting3_min},domProps:{value:t.setting3},on:{change:t.changeSetting3,input:function(e){e.target.composing||(t.setting3=e.target.value)}}}),n("span",[t._v("%")])])])]),t._v(" "),n("div",{staticClass:"prompt-foot"},[n("kd-button",{on:{click:t.saveSetting}},[t._v("确定")])],1),t._v(" "),n("a",{staticClass:"prompt-close kd-close",on:{click:t.closeSetting}},[t._v("close")])]),t._v(" "),n("div",{staticClass:"promptbox-overlay"})]):t._e()])},staticRenderFns:[]}},368:function(t,e,n){var s=n(0)(n(782),null,null,null);t.exports=s.exports},397:function(t,e,n){var s=n(0)(n(398),n(399),null,null);t.exports=s.exports},398:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ComAccountNav"}},399:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("ul",{staticClass:"nostyle account-nav account-sub-nav kd-row-middle"},[t._t("default")],2)},staticRenderFns:[]}},400:function(t,e,n){var s=n(0)(n(401),n(410),null,null);t.exports=s.exports},401:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(24),i=n.n(s),a=n(42),o=n(397),r=n.n(o);e.default={name:"ComAccountSubNavMoneyInOut",computed:i()({},n.i(a.a)({userType:function(t){return t.user.userType},isUserLogined:function(t){return t.user.isUserLogined}}),{isMoneyOut:function(){return"AccountMoneyOut"===this.$route.name}}),methods:{goToMoneOut:function(){if(2===this.userType)return void this.$message({message:"该会员暂时不支持提现！",type:"warning"});this.$router.push({name:"AccountMoneyOut"})}},components:{modAccountSubNav:r.a}}},402:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ComAccountBody"}},403:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(24),i=n.n(s),a=n(400),o=n.n(a),r=n(42),c=n(68);e.default={extends:o.a,data:function(){return{showedAccountPrizes:!0}},computed:i()({},n.i(r.a)(["ifShowRechargeDraw","ifShowShowLiCai","ifShowTransfer","ifShowBbin","ifShowQP","hgtyStatus","sbtyStatus"]),{hasTransfer:function(){return(this.ifShowTransfer||this.ifShowBbin||this.ifShowQP||this.hgtyStatus||this.sbtyStatus)&&1==this.userType},zxsfstatus:function(){return this.$store.state.zxsfstatus},zxsfName:function(){return this.$store.state.zxsfName},gameRecordLink:function(){var t="c";for(var e in c.a.instance.modules){t=c.a.instance.modules[e].gameId;break}return"/game-record/"+t}}),methods:{goPromotion:function(){2==this.userType?this.$message({message:"只有正式会员才能进行代理推广"}):this.$router.push({name:"AccountPromotion"})}}}},404:function(t,e){},405:function(t,e){},406:function(t,e,n){n(404);var s=n(0)(n(402),n(408),"data-v-4275a0c0",null);t.exports=s.exports},407:function(t,e,n){n(405);var s=n(0)(n(403),n(409),"data-v-797fef6f",null);t.exports=s.exports},408:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"account__main"},[t._t("default")],2)},staticRenderFns:[]}},409:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nostyle account-nav account-sub-nav kd-row-middle"},[n("ul",{staticClass:"account-nav-item account-nav-money-in-company"},[n("h3",{staticClass:"account-nav-icon icon-money-in-company"},[t._v("个人钱包")]),t._v(" "),t.zxsfstatus?n("router-link",{attrs:{to:{path:"/account/money-in-company-zxsf",query:{chargeType:"xrsf"}},tag:"li"}},[n("a",[t._v(t._s(t.zxsfName))])]):t._e(),t._v(" "),n("router-link",{attrs:{to:"/account/money-in",tag:"li"}},[n("a",[t._v("在线充值")])]),t._v(" "),n("router-link",{attrs:{to:"/account/money-in-company",tag:"li"}},[n("a",[t._v("公司入款")])]),t._v(" "),n("li",[n("a",{on:{click:t.goToMoneOut}},[t._v("线上出款")])]),t._v(" "),n("router-link",{attrs:{to:"/account/record-of-money-in",tag:"li"}},[n("a",[t._v("交易记录")])]),t._v(" "),t.showedAccountPrizes?n("router-link",{attrs:{to:"/account/prizes",tag:"li"}},[n("a",[t._v("抽奖记录")])]):t._e(),t._v(" "),t.hasTransfer?n("router-link",{attrs:{to:"/account/transfer-money",tag:"li"}},[n("a",[t._v("额度转换")])]):t._e(),t._v(" "),t.hasTransfer?n("router-link",{attrs:{to:"/account/money-collection",tag:"li"}},[n("a",[t._v("资金归集")])]):t._e()],1),t._v(" "),n("ul",{staticClass:"account-nav-item account-nav-record-of-playing"},[n("h3",{staticClass:"account-nav-icon icon-record-of-playing"},[t._v("我的购彩")]),t._v(" "),n("router-link",{attrs:{to:"/account/record-of-playing",tag:"li"}},[n("a",[t._v("投注记录")])]),t._v(" "),n("router-link",{attrs:{to:t.gameRecordLink,tag:"li"}},[n("a",[t._v("开奖记录")])])],1),t._v(" "),n("ul",{staticClass:"account-nav-item account-nav-edit-profile"},[n("h3",{staticClass:"account-nav-icon icon-edit-profile"},[t._v("账户设置")]),t._v(" "),n("router-link",{attrs:{to:"/account/edit-profile",tag:"li"}},[n("a",[t._v("基本信息")])]),t._v(" "),n("router-link",{attrs:{to:"/account/bank-info",tag:"li"}},[n("a",[t._v("提款卡绑定")])]),t._v(" "),n("router-link",{attrs:{to:"/account/setting",tag:"li"}},[n("a",[t._v("基本设置")])])],1),t._v(" "),n("ul",{staticClass:"account-nav-item account-nav-liquidity-of-balance-sheet"},[n("h3",{staticClass:"account-nav-icon icon-liquidity-of-balance-sheet"},[t._v("账户清单")]),t._v(" "),n("router-link",{attrs:{to:"/account/liquidity-of-balance-sheet",tag:"li"}},[n("a",[t._v("账户清单")])])],1),t._v(" "),n("ul",{staticClass:"account-nav-item account-nav-promotion"},[n("h3",{staticClass:"account-nav-icon icon-promotion"},[t._v("代理推广")]),t._v(" "),n("router-link",{attrs:{to:"/account/promotion",tag:"li"}},[n("a",[t._v("代理推广")])]),t._v(" "),n("router-link",{attrs:{to:"/account/my-downline-members",tag:"li"}},[n("a",[t._v("推广用户")])]),t._v(" "),n("router-link",{attrs:{to:{name:"AccountDownlineRecords"},tag:"li"}},[n("a",[t._v("代理报表")])]),t._v(" "),n("router-link",{attrs:{to:{name:"AccountDownlineList"},tag:"li"}},[n("a",[t._v("代理管理")])])],1),t._v(" "),n("ul",{staticClass:"account-nav-item account-nav-messages"},[n("h3",{staticClass:"account-nav-icon icon-messages"},[t._v("消息中心")]),t._v(" "),n("router-link",{attrs:{to:"/account/messages",tag:"li"}},[n("a",[t._v("消息中心")])])],1)])},staticRenderFns:[]}},410:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mod-account-sub-nav",{staticClass:"account-sub-nav--money"},[n("router-link",{attrs:{to:"/account/money-in",tag:"li"}},[n("a",[t._v("在线充值")])]),t._v(" "),n("router-link",{attrs:{to:"/account/money-in-company",tag:"li"}},[n("a",[t._v("公司入款")])]),t._v(" "),n("li",{class:{active:t.isMoneyOut}},[n("a",{on:{click:t.goToMoneOut}},[t._v("线上出款")])]),t._v(" "),n("router-link",{attrs:{to:"/account/record-of-money-in",tag:"li"}},[n("a",[t._v("交易记录")])])],1)},staticRenderFns:[]}},666:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(961),i=n.n(s);e.default={extends:i.a}},690:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(109),i=n.n(s),a=n(108),o=n.n(a),r=n(7);e.default={name:"DownlineSetting",props:{visibleSetting:{default:!1},oUserId:{oUserId:""}},data:function(){return{settingSum:"",setting1:"",setting2:"",setting2_min:.08,setting3:"",setting3_min:.02}},methods:{closeSetting:function(){this.$emit("update:visibleSetting",!1)},saveSetting:function(){var t=this;return o()(i.a.mark(function e(){var n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.validateMsg){e.next=3;break}return t.$message({message:t.validateMsg,type:"warning"}),e.abrupt("return");case 3:return e.next=5,r.apiPostRecommendSettingsUser({U:t.oUserId,O:t.setting1,T:t.setting2,TH:t.setting3,C:t.settingSum});case 5:n=e.sent,s=n.data,768==s.S?(t.$message({message:s.D,type:"success"}),t.closeSetting()):t.$message({message:s.D,type:"warning"});case 8:case"end":return e.stop()}},e,t)}))()},fetchSetting:function(){var t=this;return o()(i.a.mark(function e(){var n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.apiGetRecommendSettingsUser({U:t.oUserId});case 2:n=e.sent,s=n.data,s.D?(t.$message({message:s.D,type:"warning"}),t.closeSetting()):(t.settingSum=s.C,t.setting1=s.O,t.setting2=s.T,t.setting3=s.TH);case 5:case"end":return e.stop()}},e,t)}))()},autoSetSetting3:function(){var t=this.setting3;this.setting3=(parseInt(1e4*this.settingSum-1e4*this.setting1-1e4*this.setting2)/1e4).toFixed(2),this.validateSetting3&&(this.setting3=t,this.validateSettingSum&&this.$message({message:this.validateSettingSum,type:"warning"}))},changeSetting1:function(){var t=this.validateSetting1;if(t)return void this.$message({message:t,type:"warning"});this.validateSetting2||this.autoSetSetting3()},changeSetting2:function(){var t=this.validateSetting2;if(t)return void this.$message({message:t,type:"warning"});this.validateSetting1||this.autoSetSetting3()},changeSetting3:function(){var t=this.validateSetting3;if(t)return void this.$message({message:t,type:"warning"});this.validateSettingSum&&this.$message({message:this.validateSettingSum,type:"warning"})}},computed:{validateSetting1:function(){return""===this.setting1?"请输入一级提成":this.setting1<=0?"一级提成提成必须>0":void 0},validateSetting2:function(){if(this.setting2<this.setting2_min)return"二级提成必须≥"+this.setting2_min},validateSetting3:function(){if(this.setting3<this.setting3_min)return"三级提成必须≥"+this.setting3_min},validateSettingSum:function(){if(parseInt(1e4*this.settingSum)!=parseInt(1e4*this.setting1+1e4*this.setting2+1e4*this.setting3))return"一级二级三级相加要和代理总提成相等！"},validateMsg:function(){return this.validateSetting1||this.validateSetting2||this.validateSetting3||this.validateSettingSum}},watch:{visibleSetting:function(t){t&&this.fetchSetting()}}}},697:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(977),i=n.n(s);e.default={extends:i.a}},715:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(109),i=n.n(s),a=n(108),o=n.n(a),r=n(946),c=n.n(r),l=n(7),u=n(72);n.n(u);e.default={name:"PageAccountDownlineList",data:function(){return{loading:!0,visibleSetting:!1,oUserId:"",list:[],currentPage:1,recordsLengthPerPage:10,totalPages:1,totalCount:0,sortation:"",version:0}},created:function(){this.$store.commit("setPage",{pageTitle:"代理管理",className:"page-account-downline-list"}),this.sortation=this.$store.state.downlineSortation,this.fetchUsers(1)},methods:{showSetting:function(t){this.oUserId=t.Id,this.visibleSetting=!0},fetchUsers:function(t){var e=this;return o()(i.a.mark(function n(){var s,a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t>e.totalPages)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,l.apiGetUser({P:t||e.currentPage,I:e.recordsLengthPerPage,O:e.sortation});case 4:s=n.sent,e.loading=!1,a=s.data,a.S||(e.list=a.List,e.currentPage=a.NowPage,e.totalCount=a.TotalCount,e.totalPages=a.TotalPage);case 8:case"end":return n.stop()}},n,e)}))()},sortBet:function(){switch(this.sortation){case"d":this.sortation="a";break;case"a":this.sortation="";break;default:this.sortation="d"}this.$store.commit("setDownlineSortation",this.sortation),this.fetchUsers(1)}},components:{modDownlineSetting:c.a}}},782:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(1051),i=n.n(s);e.default={mixins:[i.a]}},838:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(967),i=n.n(s),a=n(406),o=n.n(a),r=n(407),c=n.n(r);e.default={extends:i.a,components:{modAccountMain:o.a,modAccountSubNavPublic:c.a}}},880:function(t,e){},946:function(t,e,n){var s=n(0)(n(666),null,null,null);t.exports=s.exports},961:function(t,e,n){var s=n(0)(n(690),n(1210),null,null);t.exports=s.exports},967:function(t,e,n){var s=n(0)(n(697),null,null,null);t.exports=s.exports},977:function(t,e,n){var s=n(0)(n(715),n(1133),null,null);t.exports=s.exports}});
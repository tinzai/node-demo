webpackJsonp([37],{1249:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",{staticClass:"kd-body"},[i("mod-page-banner",{attrs:{titleImage:"activity"}}),e._v(" "),i("div",{staticClass:"article-detail container-lg"},[i("div",{staticClass:"breadcrumb"},[i("span",{staticClass:"active"},[e._v("您现在所在位置")]),e._v(" "),i("router-link",{attrs:{to:"/list/activities",exact:""}},[e._v("优惠活动")]),e._v(" "),i("span",{staticClass:"sepeartor"}),e._v(" "+e._s(e.title)+"\n        ")],1),e._v(" "),i("h1",{staticClass:"page-title article-title"},[e._v(e._s(e.title)),"ActivityArticle"!==e.$route.name?i("time",[e._v(e._s(e.time))]):e._e()]),e._v(" "),""!==e.redpackId?i("div",{staticClass:"kd-align-center"},[i("a",{staticClass:"redpack",attrs:{href:"javascript:;"},on:{click:e.getRedpack}},[i("i",{staticClass:"icon icon-redpack"})])]):e._e(),e._v(" "),i("article",{staticClass:"kd-container article",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),""!==e.redpackId?i("div",{staticClass:"kd-align-center"},[i("a",{staticClass:"kd-button red",attrs:{href:"javascript:;"},on:{click:e.getRedpack}},[i("i",{staticClass:"icon icon-redpack"}),e._v(e._s(e.name))])]):e._e()]),e._v(" "),i("transition",{attrs:{"enter-active-class":"animated zoom-in","leave-active-class":"animated bounce-out"}},[e.isOpenedPrompt?i("div",{staticClass:"promptbox-wrapper"},[i("section",{staticClass:"promptbox red-package-password"},[i("div",{staticClass:"prompt-head"},[e._v("输入领取密码")]),e._v(" "),i("div",{staticClass:"prompt-body kd-form"},[i("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.redpackPin,expression:"redpackPin"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"password"},domProps:{value:e.redpackPin},on:{input:function(t){t.target.composing||(e.redpackPin=t.target.value)}}})]),e._v(" "),i("kd-button",{on:{click:e.getRedpackByPin}},[i("span",[e._v("马上领取")])])],1),e._v(" "),i("a",{staticClass:"prompt-close kd-close",attrs:{href:"javascript:;"},on:{click:e.closePrompt}},[e._v("close")])]),e._v(" "),i("div",{staticClass:"promptbox-overlay"})]):e._e()])],1)},staticRenderFns:[]}},394:function(e,t,i){var s=i(0)(i(859),i(1249),null,null);e.exports=s.exports},411:function(e,t,i){var s=i(0)(i(415),null,null,null);e.exports=s.exports},413:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),a=i(5);t.default={name:"ComHomeCarousel",data:function(){return{list:[],currentSlide:0,speed:500,sleep:3e3,timer:null,autoplay:!0,theme:"",apiSource:"apiGetAdvertisement"}},computed:{slideWidth:function(){return 100/this.list.length},innerStyle:function(){if(this.enable)return{width:100*this.list.length+"%",transition:"transform "+this.speed/1e3+"s ease",transform:"slides-wrapper--margin"===this.theme?"translateX(calc("+this.currentSlide+" * (-"+this.slideWidth+"% + 2.5rem)))":"translateX(-"+this.currentSlide*this.slideWidth+"%)"}},itemStyle:function(){return{width:"slides-wrapper--margin"===this.theme&&this.enable?"calc("+this.slideWidth+"% - 3rem)":this.slideWidth+"%"}},enable:function(){return this.list.length>1}},methods:{fetchAdvertisements:function(){var e=this;return s[this.apiSource]().then(function(e){return e.json()}).then(function(t){if(void 0!==t.S)console.log(t.S+":"+t.D);else if("array"===i.i(a.b)(t)){var s=[];t.forEach(function(e){s.push({image:e.File_Path,link:e.Link_URL})}),e.list=s}e.$emit("after-loaded",e.list.length)}).catch(function(t){e.$emit("after-loaded",0),console.log(t)})},goToSlide:function(e){this.currentSlide=e,this.autoplay&&this.play()},prev:function(){var e=this.currentSlide;0===e?e=this.list.length-1:e--,this.goToSlide(e)},next:function(){var e=this.currentSlide;e===this.list.length-1?e=0:e++,this.goToSlide(e)},play:function(){clearTimeout(this.timer);var e=this,t=this.list.length-1;this.timer=setTimeout(function(){e.enable&&(e.currentSlide===t?e.currentSlide=0:e.currentSlide++),e.play()},this.sleep)},pause:function(){clearTimeout(this.timer)}},created:function(){this.fetchAdvertisements()},mounted:function(){this.autoplay?this.play():this.pause()}}},414:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(411),a=i.n(s);t.default={mixins:[a.a],data:function(){return{apiSource:"apiGetAdvertisementHallPC"}}}},415:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(418),a=i.n(s);t.default={mixins:[a.a],data:function(){return{apiSource:"apiGetAdvertisementPC"}}}},416:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(419),a=i.n(s);t.default={name:"PageBanner",props:{height:String,titleImage:String,hasCarousel:Boolean,version:Number},data:function(){return{visibleDefaultBanner:!1}},methods:{afterBannerLoaded:function(e){e||(this.visibleDefaultBanner=!0)}},components:{modHallCarousel:a.a}}},418:function(e,t,i){var s=i(0)(i(413),i(421),null,null);e.exports=s.exports},419:function(e,t,i){var s=i(0)(i(414),null,null,null);e.exports=s.exports},420:function(e,t,i){var s=i(0)(i(416),i(422),null,null);e.exports=s.exports},421:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.list.length>0?i("section",{class:["slides-wrapper",e.theme?e.theme:"",e.enable?"enable":""]},[i("div",{staticClass:"slides"},[i("ul",{staticClass:"slides-inner kd-row",style:e.innerStyle},e._l(e.list,function(t,s){return i("li",{staticClass:"slides-item",class:{active:s===e.currentSlide},style:e.itemStyle},[i("a",{attrs:{href:t.link,target:"_blank"}},[i("img",{attrs:{src:t.image,alt:""}})])])}),0)]),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.enable,expression:"enable"}],staticClass:"slides-nav"},e._l(e.list,function(t,s){return i("li",{staticClass:"slides-nav-item",class:{active:s===e.currentSlide},on:{click:function(t){return e.goToSlide(s)}}},[e._v(e._s(s))])}),0),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.enable,expression:"enable"}],staticClass:"slides-direction slides-prev",on:{click:e.prev}},[e._v("prev")]),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.enable,expression:"enable"}],staticClass:"slides-direction slides-next",on:{click:e.next}},[e._v("next")])]):e._e()},staticRenderFns:[]}},422:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"banner",style:{height:e.height}},[e.hasCarousel&&2==e.version?i("mod-hall-carousel",{on:{"after-loaded":function(t){return e.afterBannerLoaded(t)}}}):e._e(),e._v(" "),e.visibleDefaultBanner||2!=e.version?[i("img",{staticClass:"banner__bg",attrs:{src:"/static/images/page-banner.png"}}),e._v(" "),i("img",{staticClass:"banner__title",attrs:{src:"/static/images/"+(~e.titleImage.indexOf(".")?e.titleImage:e.titleImage+"-title.svg")}})]:e._e()],2)},staticRenderFns:[]}},571:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(7);t.default={name:"PageArticle",computed:{isUserLogined:function(){return this.$store.state.user.isUserLogined}},data:function(){return{title:"加载中...",content:"加载中...",time:"加载中...",redpackId:"",redpackPin:"",needRedpackPin:0,name:"领取红包",isOpenedPrompt:!1}},created:function(){this.$store.commit("setPage",{pageTitle:"文章详情",className:"page-article"}),this.fetchArticle()},methods:{fetchArticle:function(){var e=this;return s.apiGetDetailOfActivity({i:this.$route.params.id}).then(function(e){return e.json()}).then(function(t){e.title=t.Title,e.content=t.Content,e.time=t.Add_Date,e.redpackId=t.RedPackId,e.needRedpackPin=t.RedPackPin,e.name=t.RedPackName}).catch(function(t){console.log(t),e.$message({message:"获取文章出错啦！",type:"error",force:!0})})},receiveRedpack:function(){var e=this;return s.apiGetRedPackage({id:this.redpackId,pin:this.redpackPin}).then(function(e){return e.json()}).then(function(t){"1130"===t.S?e.$message({message:"恭喜您，领取了"+t.D+"红包！",type:"success"}):e.$message({message:t.S+": "+t.D,type:"warning"})}).catch(function(t){console.log(t),e.$message({message:"领取红包出错啦！",type:"error",force:!0})})},openPrompt:function(){this.isOpenedPrompt=!0},closePrompt:function(){this.isOpenedPrompt=!1,this.redpackPin=""},validators:function(){return""!==this.redpackPin||(this.$message({message:"红包密码不能为空！"}),!1)},getRedpackByPin:function(){!1!==this.validators()&&(this.receiveRedpack(),this.closePrompt())},getRedpack:function(){return!1===this.isUserLogined?void this.$message({message:"对不起，请您先登录！"}):1===this.needRedpackPin?void this.openPrompt():void this.receiveRedpack()}}}},615:function(e,t,i){var s=i(0)(i(571),i(625),null,null);e.exports=s.exports},625:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",{staticClass:"kd-body article-detail"},[i("h1",{staticClass:"page-title article-title"},[e._v(e._s(e.title)),"ActivityArticle"!==e.$route.name?i("time",[e._v(e._s(e.time))]):e._e()]),e._v(" "),""!==e.redpackId?i("div",{staticClass:"kd-align-center"},[i("a",{staticClass:"redpack",attrs:{href:"javascript:;"},on:{click:e.getRedpack}},[i("i",{staticClass:"icon icon-redpack"})])]):e._e(),e._v(" "),i("article",{staticClass:"kd-container article",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),""!==e.redpackId?i("div",{staticClass:"kd-align-center"},[i("a",{staticClass:"kd-button red",attrs:{href:"javascript:;"},on:{click:e.getRedpack}},[i("i",{staticClass:"icon icon-redpack"}),e._v(e._s(e.name))])]):e._e(),e._v(" "),i("transition",{attrs:{"enter-active-class":"animated zoom-in","leave-active-class":"animated bounce-out"}},[e.isOpenedPrompt?i("div",{staticClass:"promptbox-wrapper"},[i("section",{staticClass:"promptbox red-package-password"},[i("div",{staticClass:"prompt-head"},[e._v("输入领取密码")]),e._v(" "),i("div",{staticClass:"prompt-body kd-form"},[i("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.redpackPin,expression:"redpackPin"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"password"},domProps:{value:e.redpackPin},on:{input:function(t){t.target.composing||(e.redpackPin=t.target.value)}}})]),e._v(" "),i("kd-button",{on:{click:e.getRedpackByPin}},[i("span",[e._v("马上领取")])])],1),e._v(" "),i("a",{staticClass:"prompt-close kd-close",attrs:{href:"javascript:;"},on:{click:e.closePrompt}},[e._v("close")])]),e._v(" "),i("div",{staticClass:"promptbox-overlay"})]):e._e()])],1)},staticRenderFns:[]}},859:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(615),a=i.n(s),n=i(420),r=i.n(n);t.default={extends:a.a,components:{modPageBanner:r.a}}}});
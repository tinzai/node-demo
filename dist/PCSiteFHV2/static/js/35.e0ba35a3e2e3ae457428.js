webpackJsonp([35],{1070:function(t,e,i){var s=i(0)(i(858),i(1155),null,null);t.exports=s.exports},1155:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"kd-body activity"},[i("mod-page-banner",{attrs:{titleImage:"activity"}}),t._v(" "),i("div",{staticClass:"container-lg"},[i("div",{staticClass:"breadcrumb"},[i("span",{staticClass:"active"},[t._v("您现在所在位置")]),t._v("\n            "+t._s(t.pageTitle)+"\n        ")]),t._v(" "),i("div",{staticClass:"hall__head clearfix"},[i("div",{staticClass:"title-area"},[i("h1",[t._v("ACTIVITY")]),t._v(t._s(t.pageTitle))]),t._v(" "),i("ul",{staticClass:"nostyle quick-tabs"},[t.groups.length?i("li",{class:{active:!t.currentGroup},on:{click:function(e){return t.setCurrentGroup("")}}},[t._v("全部")]):t._e(),t._l(t.groups,function(e){return i("li",{class:{active:t.currentGroup===e},on:{click:function(i){return t.setCurrentGroup(e)}}},[t._v(t._s(e))])})],2)]),t._v(" "),i("ul",{staticClass:"nostyle kd-list activities clearfix"},[t._l(t.activities,function(e){return[i("li",{staticClass:"item"},[i("img",{staticClass:"activity__img",attrs:{src:e.image?e.image:"/static/images/activity-demo.png",alt:""}}),t._v(" "),e.tVisible?i("p",{staticClass:"activity__caption",domProps:{innerHTML:t._s(e.title)}}):t._e(),t._v(" "),t.hideViewDetails?t._e():i("p",{staticClass:"activity__badge"},t._l("查看详情",function(e){return i("span",[t._v(t._s(e))])}),0),t._v(" "),i("a",{staticClass:"kd-cover-hidden",on:{click:function(i){return t.fetchArticle(e)}}},[t._v("查看详情")])]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.id===t.current.id,expression:"item.id === current.id"}],staticClass:"activity-detail"},[i("article",{staticClass:"kd-container article clearfix",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),e.redpackId?i("div",{staticClass:"kd-align-center arcticle__redpack"},[i("a",{staticClass:"kd-button red",attrs:{href:"javascript:;"},on:{click:t.getRedpack}},[i("i",{staticClass:"icon icon-redpack"}),t._v(t._s(e.name))])]):t._e()])]})],2)]),t._v(" "),i("transition",{attrs:{"enter-active-class":"animated zoom-in","leave-active-class":"animated bounce-out"}},[t.isOpenedPrompt?i("div",{staticClass:"promptbox-wrapper"},[i("section",{staticClass:"promptbox red-package-password"},[i("div",{staticClass:"prompt-head"},[t._v("输入领取密码")]),t._v(" "),i("div",{staticClass:"prompt-body kd-form"},[i("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.redpackPin,expression:"redpackPin"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"password"},domProps:{value:t.redpackPin},on:{input:function(e){e.target.composing||(t.redpackPin=e.target.value)}}})]),t._v(" "),i("kd-button",{on:{click:t.getRedpackByPin}},[i("span",[t._v("马上领取")])])],1),t._v(" "),i("a",{staticClass:"prompt-close kd-close",attrs:{href:"javascript:;"},on:{click:t.closePrompt}},[t._v("close")])]),t._v(" "),i("div",{staticClass:"promptbox-overlay"})]):t._e()])],1)},staticRenderFns:[]}},1212:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"kd-body activity"},[i("div",{staticClass:"activity__titlebg1"}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"container-lg activity__container"},[i("ul",{staticClass:"nostyle kd-list activities clearfix"},[t._l(t.activities,function(e){return[i("li",{staticClass:"item"},[i("img",{staticClass:"activity__img",attrs:{src:e.image?e.image:"/static/images/activity-demo.png",alt:""}}),t._v(" "),e.tVisible?i("p",{staticClass:"activity__caption",domProps:{innerHTML:t._s(e.title)}}):t._e(),t._v(" "),t._e(),t._v(" "),i("a",{staticClass:"kd-cover-hidden",on:{click:function(i){return t.fetchArticle(e)}}},[t._v("查看详情")])]),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:e.id===t.current.id,expression:"item.id === current.id"}],staticClass:"activity-detail"},[i("article",{staticClass:"kd-container article",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),e.redpackId?i("div",{staticClass:"kd-align-center arcticle__redpack"},[i("a",{staticClass:"kd-button red",attrs:{href:"javascript:;"},on:{click:t.getRedpack}},[i("i",{staticClass:"icon icon-redpack"}),t._v(t._s(e.name))])]):t._e()])]})],2)]),t._v(" "),i("transition",{attrs:{"enter-active-class":"animated zoom-in","leave-active-class":"animated bounce-out"}},[t.isOpenedPrompt?i("div",{staticClass:"promptbox-wrapper"},[i("section",{staticClass:"promptbox red-package-password"},[i("div",{staticClass:"prompt-head"},[t._v("输入领取密码")]),t._v(" "),i("div",{staticClass:"prompt-body kd-form"},[i("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.redpackPin,expression:"redpackPin"},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"password"},domProps:{value:t.redpackPin},on:{input:function(e){e.target.composing||(t.redpackPin=e.target.value)}}})]),t._v(" "),i("kd-button",{on:{click:t.getRedpackByPin}},[i("span",[t._v("马上领取")])])],1),t._v(" "),i("a",{staticClass:"prompt-close kd-close",attrs:{href:"javascript:;"},on:{click:t.closePrompt}},[t._v("close")])]),t._v(" "),i("div",{staticClass:"promptbox-overlay"})]):t._e()])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"activity__titlebg2"},[i("h3",{staticClass:"activity__title"},[t._v("活动专区")])])}]}},387:function(t,e,i){var s=i(0)(i(802),i(1212),null,null);t.exports=s.exports},411:function(t,e,i){var s=i(0)(i(415),null,null,null);t.exports=s.exports},413:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=i(5);e.default={name:"ComHomeCarousel",data:function(){return{list:[],currentSlide:0,speed:500,sleep:3e3,timer:null,autoplay:!0,theme:"",apiSource:"apiGetAdvertisement"}},computed:{slideWidth:function(){return 100/this.list.length},innerStyle:function(){if(this.enable)return{width:100*this.list.length+"%",transition:"transform "+this.speed/1e3+"s ease",transform:"slides-wrapper--margin"===this.theme?"translateX(calc("+this.currentSlide+" * (-"+this.slideWidth+"% + 2.5rem)))":"translateX(-"+this.currentSlide*this.slideWidth+"%)"}},itemStyle:function(){return{width:"slides-wrapper--margin"===this.theme&&this.enable?"calc("+this.slideWidth+"% - 3rem)":this.slideWidth+"%"}},enable:function(){return this.list.length>1}},methods:{fetchAdvertisements:function(){var t=this;return s[this.apiSource]().then(function(t){return t.json()}).then(function(e){if(void 0!==e.S)console.log(e.S+":"+e.D);else if("array"===i.i(a.b)(e)){var s=[];e.forEach(function(t){s.push({image:t.File_Path,link:t.Link_URL})}),t.list=s}t.$emit("after-loaded",t.list.length)}).catch(function(e){t.$emit("after-loaded",0),console.log(e)})},goToSlide:function(t){this.currentSlide=t,this.autoplay&&this.play()},prev:function(){var t=this.currentSlide;0===t?t=this.list.length-1:t--,this.goToSlide(t)},next:function(){var t=this.currentSlide;t===this.list.length-1?t=0:t++,this.goToSlide(t)},play:function(){clearTimeout(this.timer);var t=this,e=this.list.length-1;this.timer=setTimeout(function(){t.enable&&(t.currentSlide===e?t.currentSlide=0:t.currentSlide++),t.play()},this.sleep)},pause:function(){clearTimeout(this.timer)}},created:function(){this.fetchAdvertisements()},mounted:function(){this.autoplay?this.play():this.pause()}}},414:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(411),a=i.n(s);e.default={mixins:[a.a],data:function(){return{apiSource:"apiGetAdvertisementHallPC"}}}},415:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(418),a=i.n(s);e.default={mixins:[a.a],data:function(){return{apiSource:"apiGetAdvertisementPC"}}}},416:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(419),a=i.n(s);e.default={name:"PageBanner",props:{height:String,titleImage:String,hasCarousel:Boolean,version:Number},data:function(){return{visibleDefaultBanner:!1}},methods:{afterBannerLoaded:function(t){t||(this.visibleDefaultBanner=!0)}},components:{modHallCarousel:a.a}}},418:function(t,e,i){var s=i(0)(i(413),i(421),null,null);t.exports=s.exports},419:function(t,e,i){var s=i(0)(i(414),null,null,null);t.exports=s.exports},420:function(t,e,i){var s=i(0)(i(416),i(422),null,null);t.exports=s.exports},421:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length>0?i("section",{class:["slides-wrapper",t.theme?t.theme:"",t.enable?"enable":""]},[i("div",{staticClass:"slides"},[i("ul",{staticClass:"slides-inner kd-row",style:t.innerStyle},t._l(t.list,function(e,s){return i("li",{staticClass:"slides-item",class:{active:s===t.currentSlide},style:t.itemStyle},[i("a",{attrs:{href:e.link,target:"_blank"}},[i("img",{attrs:{src:e.image,alt:""}})])])}),0)]),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.enable,expression:"enable"}],staticClass:"slides-nav"},t._l(t.list,function(e,s){return i("li",{staticClass:"slides-nav-item",class:{active:s===t.currentSlide},on:{click:function(e){return t.goToSlide(s)}}},[t._v(t._s(s))])}),0),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.enable,expression:"enable"}],staticClass:"slides-direction slides-prev",on:{click:t.prev}},[t._v("prev")]),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.enable,expression:"enable"}],staticClass:"slides-direction slides-next",on:{click:t.next}},[t._v("next")])]):t._e()},staticRenderFns:[]}},422:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"banner",style:{height:t.height}},[t.hasCarousel&&2==t.version?i("mod-hall-carousel",{on:{"after-loaded":function(e){return t.afterBannerLoaded(e)}}}):t._e(),t._v(" "),t.visibleDefaultBanner||2!=t.version?[i("img",{staticClass:"banner__bg",attrs:{src:"/static/images/page-banner.png"}}),t._v(" "),i("img",{staticClass:"banner__title",attrs:{src:"/static/images/"+(~t.titleImage.indexOf(".")?t.titleImage:t.titleImage+"-title.svg")}})]:t._e()],2)},staticRenderFns:[]}},570:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),a=i(5);e.default={name:"PageActivitiesList",data:function(){return{list:[]}},created:function(){this.$store.commit("setPage",{pageTitle:"优惠活动",className:"page-activities-list"}),this.fetchActivities()},methods:{fetchActivities:function(){var t=this;s.apiGetActivities().then(function(t){return t.json()}).then(function(e){if("array"===i.i(a.b)(e)){var s=[];e.forEach(function(e){s.push({id:e.Id,title:e.Title,recommended:e.Is_Recommand,date:e.Add_Date,iconName:t.generateIconName(),image:e.suoluepic||"/static/images/blank.gif",description:e.Remark||""})}),t.list=s}}).catch(function(e){console.log(e),t.$message({message:"获取文章列表出错啦！",type:"error",force:!0})})},generateIconName:function(){return parseInt(16*Math.random()+55,10)}}}},614:function(t,e,i){var s=i(0)(i(570),i(643),null,null);t.exports=s.exports},643:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"kd-body activities"},[i("ul",{staticClass:"nostyle kd-list activities"},t._l(t.list,function(e){return i("li",{staticClass:"item"},[i("router-link",{staticClass:"activity-box",attrs:{to:"/article/activity-"+e.id}},[i("i",{staticClass:"icon",class:"icon-activity-"+e.iconName}),t._v(" "),i("span",{staticClass:"activity-title"},[t._v(t._s(e.title))])])],1)}),0)])},staticRenderFns:[]}},802:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1070),a=i.n(s);e.default={extends:a.a}},858:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(24),a=i.n(s),n=i(42),r=i(614),c=i.n(r),o=i(7),l=i(5),u=i(420),d=i.n(u);e.default={extends:c.a,data:function(){return{groups:[],currentGroup:"",current:{},isOpenedPrompt:!1,redpackPin:"",hideViewDetails:!1}},computed:a()({},i.i(n.a)(["pageTitle"]),{activities:function(){var t=this,e=this.list;return e&&e.length&&this.currentGroup&&(e=e.filter(function(e){return e.group===t.currentGroup})),e},isUserLogined:function(){return this.$store.state.user.isUserLogined}}),methods:{fetchActivities:function(){var t=this;o.apiGetActivities().then(function(t){return t.json()}).then(function(e){if("array"===i.i(l.b)(e)){var s=[];e[0]&&e[0].ActivityGroupName&&(t.groups=e[0].ActivityGroupName.split(",")),e.forEach(function(t){s.push({id:t.Id,tVisible:1==t.tVisible,title:t.Title?t.Title.replace(",","<br>"):"",image:t.suoluepic,group:t.groupname,content:null,redpackId:"",redpackPin:"",needRedpackPin:0,name:""})}),t.list=s}}).catch(function(e){console.log(e),t.$message({message:"获取文章列表出错啦！",type:"error",force:!0})})},setCurrentGroup:function(t){this.currentGroup=t},fetchArticle:function(t){var e=this;return t.id===this.current.id?void(this.current={}):(this.current=t,t.content?void 0:o.apiGetDetailOfActivity({i:t.id}).then(function(t){return t.json()}).then(function(e){t.content=e.Content||e.Title,t.redpackId=e.RedPackId,t.needRedpackPin=e.RedPackPin,t.name=e.RedPackName}).catch(function(t){console.log(t),e.$message({message:"获取文章出错啦！",type:"error",force:!0})}))},receiveRedpack:function(){var t=this;return o.apiGetRedPackage({id:this.current.redpackId,pin:this.redpackPin}).then(function(t){return t.json()}).then(function(e){"1130"===e.S?t.$message({message:"恭喜您，领取了"+e.D+"红包！",type:"success"}):t.$message({message:e.S+": "+e.D,type:"warning"})}).catch(function(e){console.log(e),t.$message({message:"领取红包出错啦！",type:"error",force:!0})})},openPrompt:function(){this.isOpenedPrompt=!0},closePrompt:function(){this.isOpenedPrompt=!1,this.redpackPin=""},validators:function(){return""!==this.redpackPin||(this.$message({message:"红包密码不能为空！"}),!1)},getRedpackByPin:function(){!1!==this.validators()&&(this.receiveRedpack(),this.closePrompt())},getRedpack:function(){return!1===this.isUserLogined?void this.$message({message:"对不起，请您先登录！"}):1===this.current.needRedpackPin?void this.openPrompt():void this.receiveRedpack()}},components:{modPageBanner:d.a}}}});
webpackJsonp([53],{1154:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"kd-body"},[s("form",{staticClass:"kd-form kd-container",on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"kd-field"},[s("label",{staticClass:"kd-field-title"},[e._v("主题")]),e._v(" "),s("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.subject,expression:"subject",modifiers:{trim:!0}},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{type:"text",placeholder:"反馈主题"},domProps:{value:e.subject},on:{input:function(t){t.target.composing||(e.subject=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("div",{staticClass:"kd-field"},[s("label",{staticClass:"kd-field-title",attrs:{for:"password"}},[e._v("内容")]),e._v(" "),s("div",{directives:[{name:"textinput",rawName:"v-textinput"}],staticClass:"kd-textinput"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.content,expression:"content",modifiers:{trim:!0}},{name:"focus-fixed",rawName:"v-focus-fixed"}],attrs:{placeholder:"反馈内容"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),s("div",{staticClass:"kd-buttons"},[s("kd-button",{staticClass:"main-button",on:{click:e.feedback}},[s("span",[e._v("提交反馈")])])],1)])])},staticRenderFns:[]}},354:function(e,t,s){var a=s(0)(s(707),s(1154),null,null);e.exports=a.exports},707:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(7);t.default={name:"PageFeedback",data:function(){return{subject:"",content:""}},created:function(){this.$store.commit("setPage",{pageTitle:this.$labels.feedback,className:"page-feedback"})},methods:{validators:function(){if(""===this.subject)return this.$message({message:"主题不能为空！"}),!1;var e=this.subject.replace(/[^\x00-\xff]/g,"a");return(e=e.length)>30?(this.$message({message:"主题不能超过30个字"}),!1):""!==this.content||(this.$message({message:"内容不能为空！"}),!1)},feedback:function(){var e=this;!1!==this.validators()&&a.apiFeedback({Subject:this.subject,Content:this.content}).then(function(e){return e.json()}).then(function(t){"791"===t.S?(e.$message({message:"反馈成功！",type:"success"}),e.subject="",e.content=""):e.$message({message:t.S+": "+t.D,type:"warning"})}).catch(function(t){console.log(t),e.$message({message:"意见反馈出错啦！",type:"error",force:!0})})}}}}});